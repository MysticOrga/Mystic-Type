<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mystic-Type: TCPServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Mystic-Type<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Multiplayer R-Type-like with TCP/UDP authoritative server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classTCPServer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classTCPServer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TCPServer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Simple TCP server handling client connections and lobby state.  
 <a href="classTCPServer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="TCPServer_8hpp_source.html">Network/TransportLayer/TCP/TCPServer.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for TCPServer:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer__coll__graph.png" border="0" usemap="#aTCPServer_coll__map" alt="Collaboration graph"/></div>
<map name="aTCPServer_coll__map" id="aTCPServer_coll__map">
<area shape="rect" title="Simple TCP server handling client connections and lobby state." alt="" coords="201,1012,359,1397"/>
<area shape="rect" href="classNetwork_1_1TransportLayer_1_1TCPSocket.html" title="TCP socket wrapper providing connect/accept helpers." alt="" coords="5,657,179,817"/>
<area shape="poly" title=" " alt="" coords="117,816,143,899,176,987,197,1035,192,1037,171,989,138,901,112,818"/>
<area shape="rect" href="classNetwork_1_1TransportLayer_1_1ASocket.html" title=" " alt="" coords="5,235,179,475"/>
<area shape="poly" title=" " alt="" coords="95,489,95,656,89,656,89,489"/>
<area shape="rect" href="classNetwork_1_1TransportLayer_1_1ISocket.html" title="Interface for socket operations." alt="" coords="5,5,179,185"/>
<area shape="poly" title=" " alt="" coords="95,199,95,234,89,234,89,199"/>
<area shape="rect" href="classSessionManager.html" title="Tracks client sessions across TCP and UDP, and enforces simple rate limits." alt="" coords="203,524,357,949"/>
<area shape="poly" title=" " alt="" coords="283,950,283,995,277,995,277,950"/>
<area shape="rect" href="classChildProcessManager.html" title="Minimal child process manager to spawn UDP game servers." alt="" coords="381,644,560,829"/>
<area shape="poly" title=" " alt="" coords="436,830,367,998,362,996,431,828"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTCPServer_1_1Client.html">Client</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lightweight representation of a connected client.  <a href="structTCPServer_1_1Client.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTCPServer_1_1LobbyInfo.html">LobbyInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad8f4ffce8b9317fc30a7cfa9e5c5442a" id="r_ad8f4ffce8b9317fc30a7cfa9e5c5442a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#ad8f4ffce8b9317fc30a7cfa9e5c5442a">TCPServer</a> (uint16_t port, <a class="el" href="classSessionManager.html">SessionManager</a> &amp;sessions, <a class="el" href="classChildProcessManager.html">ChildProcessManager</a> *childMgr=nullptr)</td></tr>
<tr class="memdesc:ad8f4ffce8b9317fc30a7cfa9e5c5442a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classTCPServer.html" title="Simple TCP server handling client connections and lobby state.">TCPServer</a> bound to the given port.  <br /></td></tr>
<tr class="separator:ad8f4ffce8b9317fc30a7cfa9e5c5442a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc497ac52355e53986a6a1bd1acb9581" id="r_abc497ac52355e53986a6a1bd1acb9581"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#abc497ac52355e53986a6a1bd1acb9581">~TCPServer</a> ()</td></tr>
<tr class="memdesc:abc497ac52355e53986a6a1bd1acb9581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the <a class="el" href="classTCPServer.html" title="Simple TCP server handling client connections and lobby state.">TCPServer</a>, closing the listening socket.  <br /></td></tr>
<tr class="separator:abc497ac52355e53986a6a1bd1acb9581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e6d2ef05b71c4ecbd0518fc7215ece3" id="r_a4e6d2ef05b71c4ecbd0518fc7215ece3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3">run</a> ()</td></tr>
<tr class="memdesc:a4e6d2ef05b71c4ecbd0518fc7215ece3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the main accept/receive loop (blocking).  <br /></td></tr>
<tr class="separator:a4e6d2ef05b71c4ecbd0518fc7215ece3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a71488db7399ea324f5efe8064e24581c" id="r_a71488db7399ea324f5efe8064e24581c"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581c">RecvResult</a> { <a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581caef70e46fd3bbc21e3e1f0b6815e750c0">Disconnected</a>
, <a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581ca4307e7e7986aa21a4b7c3ef2b5e948f6">Incomplete</a>
, <a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581caa60852f204ed8028c1c58808b746d115">Ok</a>
 }</td></tr>
<tr class="memdesc:a71488db7399ea324f5efe8064e24581c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result of a receive attempt.  <a href="classTCPServer.html#a71488db7399ea324f5efe8064e24581c">More...</a><br /></td></tr>
<tr class="separator:a71488db7399ea324f5efe8064e24581c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae0e94f8d712b3c9028fe674100d649b9" id="r_ae0e94f8d712b3c9028fe674100d649b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#ae0e94f8d712b3c9028fe674100d649b9">acceptNewClient</a> ()</td></tr>
<tr class="memdesc:ae0e94f8d712b3c9028fe674100d649b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept incoming connection and register a new client slot.  <br /></td></tr>
<tr class="separator:ae0e94f8d712b3c9028fe674100d649b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada05a61182a782b4d3326fabd26a19bf" id="r_ada05a61182a782b4d3326fabd26a19bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf">processClientData</a> (<a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;client)</td></tr>
<tr class="memdesc:ada05a61182a782b4d3326fabd26a19bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and handle data for a single client.  <br /></td></tr>
<tr class="separator:ada05a61182a782b4d3326fabd26a19bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef2aa5cce99901889e64fce86fbac33" id="r_a1ef2aa5cce99901889e64fce86fbac33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a1ef2aa5cce99901889e64fce86fbac33">sendPingToAll</a> ()</td></tr>
<tr class="memdesc:a1ef2aa5cce99901889e64fce86fbac33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a ping packet to every connected client.  <br /></td></tr>
<tr class="separator:a1ef2aa5cce99901889e64fce86fbac33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867c0e233f62e2d8f181ae99dbcca0a0" id="r_a867c0e233f62e2d8f181ae99dbcca0a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0">checkHeartbeat</a> ()</td></tr>
<tr class="memdesc:a867c0e233f62e2d8f181ae99dbcca0a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect clients whose heartbeat timed out.  <br /></td></tr>
<tr class="separator:a867c0e233f62e2d8f181ae99dbcca0a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d824f4302f15bbd2c7c8b754d1a51dd" id="r_a6d824f4302f15bbd2c7c8b754d1a51dd"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a6d824f4302f15bbd2c7c8b754d1a51dd">getCurrentTime</a> ()</td></tr>
<tr class="memdesc:a6d824f4302f15bbd2c7c8b754d1a51dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current time in milliseconds.  <br /></td></tr>
<tr class="separator:a6d824f4302f15bbd2c7c8b754d1a51dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a51391de5f2f6d4d54f0ae9626d9c9" id="r_a75a51391de5f2f6d4d54f0ae9626d9c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a75a51391de5f2f6d4d54f0ae9626d9c9">waitForReadable</a> (<a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a> fd, int timeoutSec, int timeoutUsec=0)</td></tr>
<tr class="memdesc:a75a51391de5f2f6d4d54f0ae9626d9c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block until a file descriptor is readable or times out.  <br /></td></tr>
<tr class="separator:a75a51391de5f2f6d4d54f0ae9626d9c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6089a11e438f73bfc614c44f86e5d75" id="r_aa6089a11e438f73bfc614c44f86e5d75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#aa6089a11e438f73bfc614c44f86e5d75">closeFd</a> (<a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a> &amp;fd)</td></tr>
<tr class="memdesc:aa6089a11e438f73bfc614c44f86e5d75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close and invalidate a file descriptor.  <br /></td></tr>
<tr class="separator:aa6089a11e438f73bfc614c44f86e5d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a435ec8dcd340e15f964ce3c0748c7305" id="r_a435ec8dcd340e15f964ce3c0748c7305"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305">resetClient</a> (<a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;client)</td></tr>
<tr class="memdesc:a435ec8dcd340e15f964ce3c0748c7305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset client fields and close its socket.  <br /></td></tr>
<tr class="separator:a435ec8dcd340e15f964ce3c0748c7305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e77543739e5b801384f9fe3e63c2bf8" id="r_a5e77543739e5b801384f9fe3e63c2bf8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a5e77543739e5b801384f9fe3e63c2bf8">pollSockets</a> (fd_set &amp;readfds, int maxFd, struct timeval &amp;timeout)</td></tr>
<tr class="memdesc:a5e77543739e5b801384f9fe3e63c2bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll all sockets using select().  <br /></td></tr>
<tr class="separator:a5e77543739e5b801384f9fe3e63c2bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a65a3923e77e48c5f0019b45af8fcb5" id="r_a9a65a3923e77e48c5f0019b45af8fcb5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5">sendPacket</a> (<a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a> fd, const <a class="el" href="classPacket.html">Packet</a> &amp;packet)</td></tr>
<tr class="memdesc:a9a65a3923e77e48c5f0019b45af8fcb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a packet to a specific client fd.  <br /></td></tr>
<tr class="separator:a9a65a3923e77e48c5f0019b45af8fcb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9543e5003c04975a7e06a9bb85c7723" id="r_ae9543e5003c04975a7e06a9bb85c7723"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581c">RecvResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#ae9543e5003c04975a7e06a9bb85c7723">receivePacket</a> (<a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a> fd, <a class="el" href="classPacket.html">Packet</a> &amp;packet, std::vector&lt; uint8_t &gt; &amp;buffer)</td></tr>
<tr class="memdesc:ae9543e5003c04975a7e06a9bb85c7723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive and parse a packet from a client socket.  <br /></td></tr>
<tr class="separator:ae9543e5003c04975a7e06a9bb85c7723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b89efbda16dd8af6b7ff45b6da036d" id="r_a35b89efbda16dd8af6b7ff45b6da036d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPacket.html">Packet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a35b89efbda16dd8af6b7ff45b6da036d">makeStringPacket</a> (<a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56">PacketType</a> type, const std::string &amp;payload)</td></tr>
<tr class="memdesc:a35b89efbda16dd8af6b7ff45b6da036d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a packet carrying a string payload.  <br /></td></tr>
<tr class="separator:a35b89efbda16dd8af6b7ff45b6da036d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13efa1ebda8d0f4c99eae65d6b012b75" id="r_a13efa1ebda8d0f4c99eae65d6b012b75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPacket.html">Packet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a13efa1ebda8d0f4c99eae65d6b012b75">makeIdPacket</a> (<a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56">PacketType</a> type, int value)</td></tr>
<tr class="memdesc:a13efa1ebda8d0f4c99eae65d6b012b75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a packet carrying a simple integer id.  <br /></td></tr>
<tr class="separator:a13efa1ebda8d0f4c99eae65d6b012b75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45d63761257c84a68a96c24541c13e4" id="r_ae45d63761257c84a68a96c24541c13e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPacket.html">Packet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#ae45d63761257c84a68a96c24541c13e4">makeLobbyPacket</a> (<a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56">PacketType</a> type, const std::string &amp;payload)</td></tr>
<tr class="separator:ae45d63761257c84a68a96c24541c13e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1988f8a542c2d39f3d3556264e71b2" id="r_a5b1988f8a542c2d39f3d3556264e71b2"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2">writeFd</a> (<a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a> fd, const uint8_t *data, std::size_t size)</td></tr>
<tr class="memdesc:a5b1988f8a542c2d39f3d3556264e71b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write raw bytes to a socket fd.  <br /></td></tr>
<tr class="separator:a5b1988f8a542c2d39f3d3556264e71b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00011973e407cab03dde7c74a4c65949" id="r_a00011973e407cab03dde7c74a4c65949"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a00011973e407cab03dde7c74a4c65949">readFd</a> (<a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a> fd, uint8_t *data, std::size_t size)</td></tr>
<tr class="memdesc:a00011973e407cab03dde7c74a4c65949"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read raw bytes from a socket fd.  <br /></td></tr>
<tr class="separator:a00011973e407cab03dde7c74a4c65949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b0daca7192b0342a5694a287319ddaa" id="r_a3b0daca7192b0342a5694a287319ddaa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a3b0daca7192b0342a5694a287319ddaa">selectFdSet</a> (int nfds, fd_set *readfds, fd_set *writefds, fd_set *exceptfds, struct timeval *timeout)</td></tr>
<tr class="memdesc:a3b0daca7192b0342a5694a287319ddaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper around select for testability.  <br /></td></tr>
<tr class="separator:a3b0daca7192b0342a5694a287319ddaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2595c03eed6bf37e098e619e6751a3d4" id="r_a2595c03eed6bf37e098e619e6751a3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a2595c03eed6bf37e098e619e6751a3d4">closeFdRaw</a> (<a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a> fd)</td></tr>
<tr class="memdesc:a2595c03eed6bf37e098e619e6751a3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a raw fd without resetting the caller's variable.  <br /></td></tr>
<tr class="separator:a2595c03eed6bf37e098e619e6751a3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a196ba30f88f890e9acf0ef1a21a74c71" id="r_a196ba30f88f890e9acf0ef1a21a74c71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPacket.html">Packet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71">buildPlayerListPacket</a> (const std::string &amp;lobbyCode) const</td></tr>
<tr class="memdesc:a196ba30f88f890e9acf0ef1a21a74c71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the packet containing the list of connected players.  <br /></td></tr>
<tr class="separator:a196ba30f88f890e9acf0ef1a21a74c71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87b20fb76f60c19df36f39ef3621b05" id="r_aa87b20fb76f60c19df36f39ef3621b05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05">sendPlayerListToClient</a> (const <a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;client)</td></tr>
<tr class="memdesc:aa87b20fb76f60c19df36f39ef3621b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the current player list to a single client.  <br /></td></tr>
<tr class="separator:aa87b20fb76f60c19df36f39ef3621b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3fb51b52375d68f548f60cc7005ef0" id="r_aee3fb51b52375d68f548f60cc7005ef0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#aee3fb51b52375d68f548f60cc7005ef0">broadcastNewPlayer</a> (const <a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;newClient)</td></tr>
<tr class="memdesc:aee3fb51b52375d68f548f60cc7005ef0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify all clients of a newly connected player.  <br /></td></tr>
<tr class="separator:aee3fb51b52375d68f548f60cc7005ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79e20e1d2821e399fe47dd1055341d5e" id="r_a79e20e1d2821e399fe47dd1055341d5e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e">writeAll</a> (<a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a> fd, const uint8_t *data, std::size_t size)</td></tr>
<tr class="memdesc:a79e20e1d2821e399fe47dd1055341d5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensure the full buffer is written to the socket.  <br /></td></tr>
<tr class="separator:a79e20e1d2821e399fe47dd1055341d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84035146c9257be5714850a1f46d0bfb" id="r_a84035146c9257be5714850a1f46d0bfb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb">assignLobby</a> (<a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;client, const std::string &amp;code, bool createIfMissing, bool isPublic, bool allowFull=false)</td></tr>
<tr class="memdesc:a84035146c9257be5714850a1f46d0bfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign a client to a lobby (public or private).  <br /></td></tr>
<tr class="separator:a84035146c9257be5714850a1f46d0bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508cc3d7023b0cfe9abed2e3166b1682" id="r_a508cc3d7023b0cfe9abed2e3166b1682"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682">removeFromLobby</a> (const <a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;client)</td></tr>
<tr class="memdesc:a508cc3d7023b0cfe9abed2e3166b1682"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a client from its current lobby.  <br /></td></tr>
<tr class="separator:a508cc3d7023b0cfe9abed2e3166b1682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2dcfc8d8337ff577a101c4aee6aac5" id="r_a8d2dcfc8d8337ff577a101c4aee6aac5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5">refreshLobby</a> (const std::string &amp;code)</td></tr>
<tr class="memdesc:a8d2dcfc8d8337ff577a101c4aee6aac5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resend the player list to all members of a lobby.  <br /></td></tr>
<tr class="separator:a8d2dcfc8d8337ff577a101c4aee6aac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6bed785945fc2f21376ff2b58090829" id="r_ad6bed785945fc2f21376ff2b58090829"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#ad6bed785945fc2f21376ff2b58090829">autoAssignPublic</a> (<a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;client)</td></tr>
<tr class="memdesc:ad6bed785945fc2f21376ff2b58090829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Auto-match the client into a public lobby.  <br /></td></tr>
<tr class="separator:ad6bed785945fc2f21376ff2b58090829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063b685012f0cd7b069ad82dbffcb95f" id="r_a063b685012f0cd7b069ad82dbffcb95f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a063b685012f0cd7b069ad82dbffcb95f">generateLobbyCode</a> ()</td></tr>
<tr class="memdesc:a063b685012f0cd7b069ad82dbffcb95f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a random lobby code (6 chars alnum).  <br /></td></tr>
<tr class="separator:a063b685012f0cd7b069ad82dbffcb95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd78aa179d3b735e82868d800629b354" id="r_afd78aa179d3b735e82868d800629b354"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354">handleLobbyPacket</a> (<a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;client, const <a class="el" href="classPacket.html">Packet</a> &amp;packet)</td></tr>
<tr class="memdesc:afd78aa179d3b735e82868d800629b354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle lobby-related packets for a client.  <br /></td></tr>
<tr class="separator:afd78aa179d3b735e82868d800629b354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a03b7479e884f287b5a88df03eeb17b" id="r_a2a03b7479e884f287b5a88df03eeb17b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a2a03b7479e884f287b5a88df03eeb17b">processIpcMessages</a> ()</td></tr>
<tr class="separator:a2a03b7479e884f287b5a88df03eeb17b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb22938cbabd280ec30b3ffab25aeb56" id="r_afb22938cbabd280ec30b3ffab25aeb56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#afb22938cbabd280ec30b3ffab25aeb56">broadcastToLobby</a> (const std::string &amp;lobbyCode, const <a class="el" href="classPacket.html">Packet</a> &amp;packet)</td></tr>
<tr class="separator:afb22938cbabd280ec30b3ffab25aeb56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25273652d6d80037ec5bcad8725bd269" id="r_a25273652d6d80037ec5bcad8725bd269"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a25273652d6d80037ec5bcad8725bd269">allocatePort</a> ()</td></tr>
<tr class="separator:a25273652d6d80037ec5bcad8725bd269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30203c2836aa52676f3e6205d8730943" id="r_a30203c2836aa52676f3e6205d8730943"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a30203c2836aa52676f3e6205d8730943">ensureLobbyProcess</a> (const std::string &amp;code, bool isPublic)</td></tr>
<tr class="separator:a30203c2836aa52676f3e6205d8730943"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a935d20653ad5ba5269b00c0fb8977e60" id="r_a935d20653ad5ba5269b00c0fb8977e60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNetwork_1_1TransportLayer_1_1TCPSocket.html">Network::TransportLayer::TCPSocket</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a935d20653ad5ba5269b00c0fb8977e60">_serverSocket</a></td></tr>
<tr class="separator:a935d20653ad5ba5269b00c0fb8977e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e56cbbeeab8d9e7569444fa657a239" id="r_a84e56cbbeeab8d9e7569444fa657a239"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="structTCPServer_1_1Client.html">Client</a>, <a class="el" href="TCPServer_8hpp.html#ab8ba2d8f79af5ca38005742bbc29a927">MAX_CLIENT</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a84e56cbbeeab8d9e7569444fa657a239">_clients</a></td></tr>
<tr class="separator:a84e56cbbeeab8d9e7569444fa657a239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c70f5262f8c58c76224696746b2fe61" id="r_a1c70f5262f8c58c76224696746b2fe61"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a1c70f5262f8c58c76224696746b2fe61">_nextId</a> = 1</td></tr>
<tr class="separator:a1c70f5262f8c58c76224696746b2fe61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a112cedb48ad54b03fcd564d78766f763" id="r_a112cedb48ad54b03fcd564d78766f763"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSessionManager.html">SessionManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a112cedb48ad54b03fcd564d78766f763">_sessions</a></td></tr>
<tr class="separator:a112cedb48ad54b03fcd564d78766f763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82ca8d45da7d3889d55662cb8c90022e" id="r_a82ca8d45da7d3889d55662cb8c90022e"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, <a class="el" href="structTCPServer_1_1LobbyInfo.html">LobbyInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#a82ca8d45da7d3889d55662cb8c90022e">_lobbies</a></td></tr>
<tr class="separator:a82ca8d45da7d3889d55662cb8c90022e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af426291ba1ed4f4d21e8cab3c7a03bc3" id="r_af426291ba1ed4f4d21e8cab3c7a03bc3"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#af426291ba1ed4f4d21e8cab3c7a03bc3">_clientLobby</a></td></tr>
<tr class="separator:af426291ba1ed4f4d21e8cab3c7a03bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af631fe23418972d040c6ffce2a1418f7" id="r_af631fe23418972d040c6ffce2a1418f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classChildProcessManager.html">ChildProcessManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTCPServer.html#af631fe23418972d040c6ffce2a1418f7">_childMgr</a> = nullptr</td></tr>
<tr class="separator:af631fe23418972d040c6ffce2a1418f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple TCP server handling client connections and lobby state. </p>
<p>The server accepts new TCP clients, performs a handshake, keeps a small list of connected players, and forwards heartbeat and player list packets to them. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8hpp_source.html#l00032">32</a> of file <a class="el" href="TCPServer_8hpp_source.html">TCPServer.hpp</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a71488db7399ea324f5efe8064e24581c" name="a71488db7399ea324f5efe8064e24581c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71488db7399ea324f5efe8064e24581c">&#9670;&#160;</a></span>RecvResult</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581c">TCPServer::RecvResult</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Result of a receive attempt. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a71488db7399ea324f5efe8064e24581caef70e46fd3bbc21e3e1f0b6815e750c0" name="a71488db7399ea324f5efe8064e24581caef70e46fd3bbc21e3e1f0b6815e750c0"></a>Disconnected&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a71488db7399ea324f5efe8064e24581ca4307e7e7986aa21a4b7c3ef2b5e948f6" name="a71488db7399ea324f5efe8064e24581ca4307e7e7986aa21a4b7c3ef2b5e948f6"></a>Incomplete&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a71488db7399ea324f5efe8064e24581caa60852f204ed8028c1c58808b746d115" name="a71488db7399ea324f5efe8064e24581caa60852f204ed8028c1c58808b746d115"></a>Ok&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="TCPServer_8hpp_source.html#l00127">127</a> of file <a class="el" href="TCPServer_8hpp_source.html">TCPServer.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad8f4ffce8b9317fc30a7cfa9e5c5442a" name="ad8f4ffce8b9317fc30a7cfa9e5c5442a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8f4ffce8b9317fc30a7cfa9e5c5442a">&#9670;&#160;</a></span>TCPServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TCPServer::TCPServer </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSessionManager.html">SessionManager</a> &amp;&#160;</td>
          <td class="paramname"><em>sessions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classChildProcessManager.html">ChildProcessManager</a> *&#160;</td>
          <td class="paramname"><em>childMgr</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="classTCPServer.html" title="Simple TCP server handling client connections and lobby state.">TCPServer</a> bound to the given port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>TCP port to listen on. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00039">39</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, <a class="el" href="TCPServer_8hpp_source.html#l00222">_serverSocket</a>, <a class="el" href="TCPSocket_8cpp_source.html#l00027">Network::TransportLayer::TCPSocket::bindAndListen()</a>, <a class="el" href="ISocket_8hpp_source.html#l00045">INVALID_SOCKET_FD</a>, and <a class="el" href="TCPServer_8hpp_source.html#l00023">MAX_CLIENT</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_ad8f4ffce8b9317fc30a7cfa9e5c5442a_cgraph.png" border="0" usemap="#aclassTCPServer_ad8f4ffce8b9317fc30a7cfa9e5c5442a_cgraph" alt=""/></div>
<map name="aclassTCPServer_ad8f4ffce8b9317fc30a7cfa9e5c5442a_cgraph" id="aclassTCPServer_ad8f4ffce8b9317fc30a7cfa9e5c5442a_cgraph">
<area shape="rect" title="Construct a new TCPServer bound to the given port." alt="" coords="5,13,168,38"/>
<area shape="rect" href="classNetwork_1_1TransportLayer_1_1TCPSocket.html#a1101a573328f3e3763b5cc0fed67f0ae" title="Bind to an address and start listening." alt="" coords="216,5,413,45"/>
<area shape="poly" title=" " alt="" coords="168,23,202,23,202,28,168,28"/>
<area shape="rect" href="classNetwork_1_1TransportLayer_1_1ASocket.html#a65fa2f6ba45358b7a7776d14b0111756" title="Bind the socket to a specific address and port." alt="" coords="461,5,643,45"/>
<area shape="poly" title=" " alt="" coords="413,23,447,23,447,28,413,28"/>
</map>
</div>

</div>
</div>
<a id="abc497ac52355e53986a6a1bd1acb9581" name="abc497ac52355e53986a6a1bd1acb9581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc497ac52355e53986a6a1bd1acb9581">&#9670;&#160;</a></span>~TCPServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TCPServer::~TCPServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the <a class="el" href="classTCPServer.html" title="Simple TCP server handling client connections and lobby state.">TCPServer</a>, closing the listening socket. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00052">52</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, <a class="el" href="TCPServer_8hpp_source.html#l00222">_serverSocket</a>, <a class="el" href="ASocket_8cpp_source.html#l00028">Network::TransportLayer::ASocket::closeSocket()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00142">resetClient()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_abc497ac52355e53986a6a1bd1acb9581_cgraph.png" border="0" usemap="#aclassTCPServer_abc497ac52355e53986a6a1bd1acb9581_cgraph" alt=""/></div>
<map name="aclassTCPServer_abc497ac52355e53986a6a1bd1acb9581_cgraph" id="aclassTCPServer_abc497ac52355e53986a6a1bd1acb9581_cgraph">
<area shape="rect" title="Destroy the TCPServer, closing the listening socket." alt="" coords="5,42,179,67"/>
<area shape="rect" href="classNetwork_1_1TransportLayer_1_1ASocket.html#afb543d4b49e71b180cfe2259c8c5093b" title="Close the socket." alt="" coords="227,5,408,45"/>
<area shape="poly" title=" " alt="" coords="178,41,213,36,213,42,179,46"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="234,70,401,95"/>
<area shape="poly" title=" " alt="" coords="179,63,220,68,220,73,178,68"/>
<area shape="rect" href="classTCPServer.html#aa6089a11e438f73bfc614c44f86e5d75" title="Close and invalidate a file descriptor." alt="" coords="492,21,639,46"/>
<area shape="poly" title=" " alt="" coords="381,67,487,46,488,51,382,73"/>
<area shape="rect" href="classSessionManager.html#a8916c4ee701635dd8b2ee525331efb0b" title="Remove a session by player id." alt="" coords="457,70,673,95"/>
<area shape="poly" title=" " alt="" coords="401,80,444,80,444,85,401,85"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="456,119,675,145"/>
<area shape="poly" title=" " alt="" coords="382,93,488,114,487,119,381,98"/>
<area shape="rect" href="classTCPServer.html#a2595c03eed6bf37e098e619e6751a3d4" title="Close a raw fd without resetting the caller&#39;s variable." alt="" coords="750,21,925,46"/>
<area shape="poly" title=" " alt="" coords="639,31,736,31,736,36,639,36"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="747,94,928,119"/>
<area shape="poly" title=" " alt="" coords="675,119,733,114,733,119,675,124"/>
<area shape="rect" href="classSessionManager.html#a8023cf136e039298b1e2ba5fe7cb224b" title="Store the lobby code for a player." alt="" coords="723,143,952,169"/>
<area shape="poly" title=" " alt="" coords="675,139,709,142,709,147,675,144"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="1000,87,1191,127"/>
<area shape="poly" title=" " alt="" coords="928,104,986,104,986,109,928,109"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="1239,57,1431,97"/>
<area shape="poly" title=" " alt="" coords="1191,92,1225,88,1225,93,1191,98"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="1250,122,1419,147"/>
<area shape="poly" title=" " alt="" coords="1191,115,1237,121,1236,126,1191,120"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="1481,97,1623,122"/>
<area shape="poly" title=" " alt="" coords="1419,122,1467,117,1467,122,1420,127"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="1479,146,1625,171"/>
<area shape="poly" title=" " alt="" coords="1420,141,1465,146,1465,152,1419,147"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="1683,97,1809,122"/>
<area shape="poly" title=" " alt="" coords="1623,107,1669,107,1669,112,1623,112"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="1673,146,1819,171"/>
<area shape="poly" title=" " alt="" coords="1626,156,1659,156,1659,161,1626,161"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae0e94f8d712b3c9028fe674100d649b9" name="ae0e94f8d712b3c9028fe674100d649b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0e94f8d712b3c9028fe674100d649b9">&#9670;&#160;</a></span>acceptNewClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::acceptNewClient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accept incoming connection and register a new client slot. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00165">165</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, <a class="el" href="TCPServer_8hpp_source.html#l00224">_nextId</a>, <a class="el" href="TCPServer_8hpp_source.html#l00222">_serverSocket</a>, <a class="el" href="TCPServer_8hpp_source.html#l00225">_sessions</a>, <a class="el" href="TCPSocket_8cpp_source.html#l00041">Network::TransportLayer::TCPSocket::acceptClient()</a>, <a class="el" href="SessionManager_8cpp_source.html#l00010">SessionManager::addSession()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00134">closeFd()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00334">getCurrentTime()</a>, <a class="el" href="ISocket_8hpp_source.html#l00045">INVALID_SOCKET_FD</a>, <a class="el" href="TCPServer_8cpp_source.html#l00060">makeStringPacket()</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a392253eaea22aafdb199bc238bafc082">REFUSED</a>, <a class="el" href="TCPServer_8cpp_source.html#l00088">sendPacket()</a>, and <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a2d5adf374790a99688888f051f235cf0">SERVER_HELLO</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00446">run()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_ae0e94f8d712b3c9028fe674100d649b9_cgraph.png" border="0" usemap="#aclassTCPServer_ae0e94f8d712b3c9028fe674100d649b9_cgraph" alt=""/></div>
<map name="aclassTCPServer_ae0e94f8d712b3c9028fe674100d649b9_cgraph" id="aclassTCPServer_ae0e94f8d712b3c9028fe674100d649b9_cgraph">
<area shape="rect" title="Accept incoming connection and register a new client slot." alt="" coords="5,145,212,170"/>
<area shape="rect" href="classNetwork_1_1TransportLayer_1_1TCPSocket.html#aab30f88e654d44503b85368f4af43e8d" title="Accept an incoming client connection." alt="" coords="273,5,459,45"/>
<area shape="poly" title=" " alt="" coords="124,142,182,100,259,55,276,48,278,53,261,60,184,105,127,147"/>
<area shape="rect" href="classSessionManager.html#af8d1197fa1236d0295e3d31170639f6e" title="Add a TCP session entry." alt="" coords="261,70,471,95"/>
<area shape="poly" title=" " alt="" coords="144,142,259,104,291,96,292,101,261,109,146,147"/>
<area shape="rect" href="classTCPServer.html#aa6089a11e438f73bfc614c44f86e5d75" title="Close and invalidate a file descriptor." alt="" coords="293,119,439,145"/>
<area shape="poly" title=" " alt="" coords="212,145,278,138,279,143,212,150"/>
<area shape="rect" href="classTCPServer.html#a6d824f4302f15bbd2c7c8b754d1a51dd" title="Get current time in milliseconds." alt="" coords="267,169,465,194"/>
<area shape="poly" title=" " alt="" coords="212,164,253,168,253,173,212,170"/>
<area shape="rect" href="classTCPServer.html#a35b89efbda16dd8af6b7ff45b6da036d" title="Build a packet carrying a string payload." alt="" coords="260,218,472,243"/>
<area shape="poly" title=" " alt="" coords="148,168,261,203,296,212,295,217,259,208,147,173"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="281,267,451,293"/>
<area shape="poly" title=" " alt="" coords="127,168,184,209,222,232,261,252,285,261,283,266,259,257,219,237,181,214,124,172"/>
<area shape="rect" href="classTCPServer.html#a2595c03eed6bf37e098e619e6751a3d4" title="Close a raw fd without resetting the caller&#39;s variable." alt="" coords="520,119,695,145"/>
<area shape="poly" title=" " alt="" coords="440,129,506,129,506,135,440,135"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="536,242,679,267"/>
<area shape="poly" title=" " alt="" coords="451,268,522,261,523,266,451,274"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="534,291,681,317"/>
<area shape="poly" title=" " alt="" coords="451,286,520,293,520,298,451,291"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="752,242,879,267"/>
<area shape="poly" title=" " alt="" coords="679,252,738,252,738,257,679,257"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="743,291,888,317"/>
<area shape="poly" title=" " alt="" coords="681,301,729,301,729,307,681,307"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_ae0e94f8d712b3c9028fe674100d649b9_icgraph.png" border="0" usemap="#aclassTCPServer_ae0e94f8d712b3c9028fe674100d649b9_icgraph" alt=""/></div>
<map name="aclassTCPServer_ae0e94f8d712b3c9028fe674100d649b9_icgraph" id="aclassTCPServer_ae0e94f8d712b3c9028fe674100d649b9_icgraph">
<area shape="rect" title="Accept incoming connection and register a new client slot." alt="" coords="273,5,480,31"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,225,21,225,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a25273652d6d80037ec5bcad8725bd269" name="a25273652d6d80037ec5bcad8725bd269"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25273652d6d80037ec5bcad8725bd269">&#9670;&#160;</a></span>allocatePort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t TCPServer::allocatePort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00639">639</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00647">ensureLobbyProcess()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a25273652d6d80037ec5bcad8725bd269_icgraph.png" border="0" usemap="#aclassTCPServer_a25273652d6d80037ec5bcad8725bd269_icgraph" alt=""/></div>
<map name="aclassTCPServer_a25273652d6d80037ec5bcad8725bd269_icgraph" id="aclassTCPServer_a25273652d6d80037ec5bcad8725bd269_icgraph">
<area shape="rect" title=" " alt="" coords="1308,31,1483,56"/>
<area shape="rect" href="classTCPServer.html#a30203c2836aa52676f3e6205d8730943" title=" " alt="" coords="1031,31,1260,56"/>
<area shape="poly" title=" " alt="" coords="1294,46,1260,46,1260,41,1294,41"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="805,31,983,56"/>
<area shape="poly" title=" " alt="" coords="1017,46,983,46,983,41,1017,41"/>
<area shape="rect" href="classTCPServer.html#ad6bed785945fc2f21376ff2b58090829" title="Auto&#45;match the client into a public lobby." alt="" coords="543,5,750,31"/>
<area shape="poly" title=" " alt="" coords="791,36,750,31,750,26,792,30"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,55,757,80"/>
<area shape="poly" title=" " alt="" coords="792,56,758,59,757,54,791,51"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,55,488,80"/>
<area shape="poly" title=" " alt="" coords="523,70,488,70,488,65,523,65"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,55,225,80"/>
<area shape="poly" title=" " alt="" coords="260,70,225,70,225,65,260,65"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="94,70,60,70,60,65,94,65"/>
</map>
</div>

</div>
</div>
<a id="a84035146c9257be5714850a1f46d0bfb" name="a84035146c9257be5714850a1f46d0bfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84035146c9257be5714850a1f46d0bfb">&#9670;&#160;</a></span>assignLobby()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TCPServer::assignLobby </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>createIfMissing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPublic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowFull</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assign a client to a lobby (public or private). </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00669">669</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00234">_clientLobby</a>, <a class="el" href="TCPServer_8hpp_source.html#l00233">_lobbies</a>, <a class="el" href="TCPServer_8hpp_source.html#l00225">_sessions</a>, <a class="el" href="TCPServer_8cpp_source.html#l00647">ensureLobbyProcess()</a>, <a class="el" href="TCPServer_8hpp_source.html#l00057">TCPServer::Client::id</a>, <a class="el" href="TCPServer_8hpp_source.html#l00063">TCPServer::Client::lobbyCode</a>, <a class="el" href="TCPServer_8hpp_source.html#l00023">MAX_CLIENT</a>, <a class="el" href="TCPServer_8cpp_source.html#l00620">removeFromLobby()</a>, and <a class="el" href="SessionManager_8cpp_source.html#l00079">SessionManager::setLobbyCode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00695">autoAssignPublic()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00702">handleLobbyPacket()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a84035146c9257be5714850a1f46d0bfb_cgraph.png" border="0" usemap="#aclassTCPServer_a84035146c9257be5714850a1f46d0bfb_cgraph" alt=""/></div>
<map name="aclassTCPServer_a84035146c9257be5714850a1f46d0bfb_cgraph" id="aclassTCPServer_a84035146c9257be5714850a1f46d0bfb_cgraph">
<area shape="rect" title="Assign a client to a lobby (public or private)." alt="" coords="5,247,183,273"/>
<area shape="rect" href="classTCPServer.html#a30203c2836aa52676f3e6205d8730943" title=" " alt="" coords="231,127,460,153"/>
<area shape="poly" title=" " alt="" coords="121,245,304,156,307,161,123,250"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="236,247,455,273"/>
<area shape="poly" title=" " alt="" coords="183,257,222,257,222,263,183,263"/>
<area shape="rect" href="classSessionManager.html#a8023cf136e039298b1e2ba5fe7cb224b" title="Store the lobby code for a player." alt="" coords="508,298,737,323"/>
<area shape="poly" title=" " alt="" coords="155,270,231,283,367,296,494,304,494,309,366,301,230,288,154,275"/>
<area shape="rect" href="classChildProcessManager.html#af9be1ce64da7e05952b231b22df221a0" title=" " alt="" coords="541,5,704,45"/>
<area shape="poly" title=" " alt="" coords="367,125,429,91,507,55,529,47,530,52,509,60,431,96,370,129"/>
<area shape="rect" href="classTCPServer.html#a25273652d6d80037ec5bcad8725bd269" title=" " alt="" coords="535,70,710,95"/>
<area shape="poly" title=" " alt="" coords="407,125,547,95,548,101,408,130"/>
<area shape="rect" href="classChildProcessManager.html#a3b7c34be0f81b8a841d4ecd28a837bf6" title=" " alt="" coords="541,120,704,160"/>
<area shape="poly" title=" " alt="" coords="460,137,527,137,527,143,460,143"/>
<area shape="rect" href="classChildProcessManager.html#a138e2d098e92a2c6d1ad7b35dadd6541" title="Spawn a UDP game server process." alt="" coords="541,184,704,224"/>
<area shape="poly" title=" " alt="" coords="402,150,528,180,527,185,401,155"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="532,249,713,274"/>
<area shape="poly" title=" " alt="" coords="455,258,518,258,518,264,455,263"/>
<area shape="poly" title=" " alt="" coords="416,270,539,293,538,298,415,275"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="785,241,976,281"/>
<area shape="poly" title=" " alt="" coords="714,259,771,259,771,264,714,264"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="1024,212,1216,252"/>
<area shape="poly" title=" " alt="" coords="976,247,1010,243,1011,248,977,252"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="1035,277,1205,302"/>
<area shape="poly" title=" " alt="" coords="977,270,1022,275,1021,280,976,275"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="1266,251,1409,277"/>
<area shape="poly" title=" " alt="" coords="1205,277,1252,271,1253,277,1205,282"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="1264,301,1411,326"/>
<area shape="poly" title=" " alt="" coords="1205,296,1251,301,1250,306,1205,301"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="1468,251,1595,277"/>
<area shape="poly" title=" " alt="" coords="1409,261,1454,261,1454,267,1409,267"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="1459,301,1604,326"/>
<area shape="poly" title=" " alt="" coords="1411,311,1445,311,1445,316,1411,316"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a84035146c9257be5714850a1f46d0bfb_icgraph.png" border="0" usemap="#aclassTCPServer_a84035146c9257be5714850a1f46d0bfb_icgraph" alt=""/></div>
<map name="aclassTCPServer_a84035146c9257be5714850a1f46d0bfb_icgraph" id="aclassTCPServer_a84035146c9257be5714850a1f46d0bfb_icgraph">
<area shape="rect" title="Assign a client to a lobby (public or private)." alt="" coords="805,31,983,56"/>
<area shape="rect" href="classTCPServer.html#ad6bed785945fc2f21376ff2b58090829" title="Auto&#45;match the client into a public lobby." alt="" coords="543,5,750,31"/>
<area shape="poly" title=" " alt="" coords="791,36,750,31,750,26,792,30"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,55,757,80"/>
<area shape="poly" title=" " alt="" coords="792,56,758,59,757,54,791,51"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,55,488,80"/>
<area shape="poly" title=" " alt="" coords="523,70,488,70,488,65,523,65"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,55,225,80"/>
<area shape="poly" title=" " alt="" coords="260,70,225,70,225,65,260,65"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="94,70,60,70,60,65,94,65"/>
</map>
</div>

</div>
</div>
<a id="ad6bed785945fc2f21376ff2b58090829" name="ad6bed785945fc2f21376ff2b58090829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6bed785945fc2f21376ff2b58090829">&#9670;&#160;</a></span>autoAssignPublic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string TCPServer::autoAssignPublic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Auto-match the client into a public lobby. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00695">695</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8cpp_source.html#l00669">assignLobby()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_ad6bed785945fc2f21376ff2b58090829_cgraph.png" border="0" usemap="#aclassTCPServer_ad6bed785945fc2f21376ff2b58090829_cgraph" alt=""/></div>
<map name="aclassTCPServer_ad6bed785945fc2f21376ff2b58090829_cgraph" id="aclassTCPServer_ad6bed785945fc2f21376ff2b58090829_cgraph">
<area shape="rect" title="Auto&#45;match the client into a public lobby." alt="" coords="5,247,212,273"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="260,247,437,273"/>
<area shape="poly" title=" " alt="" coords="212,257,246,257,246,263,212,263"/>
<area shape="rect" href="classTCPServer.html#a30203c2836aa52676f3e6205d8730943" title=" " alt="" coords="485,127,715,153"/>
<area shape="poly" title=" " alt="" coords="375,245,559,156,561,161,378,250"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="491,247,709,273"/>
<area shape="poly" title=" " alt="" coords="438,257,477,257,477,263,438,263"/>
<area shape="rect" href="classSessionManager.html#a8023cf136e039298b1e2ba5fe7cb224b" title="Store the lobby code for a player." alt="" coords="763,298,992,323"/>
<area shape="poly" title=" " alt="" coords="410,270,486,283,621,296,749,304,749,309,621,301,485,288,409,275"/>
<area shape="rect" href="classChildProcessManager.html#af9be1ce64da7e05952b231b22df221a0" title=" " alt="" coords="796,5,959,45"/>
<area shape="poly" title=" " alt="" coords="622,125,684,91,762,55,783,47,785,52,764,60,686,96,624,129"/>
<area shape="rect" href="classTCPServer.html#a25273652d6d80037ec5bcad8725bd269" title=" " alt="" coords="790,70,965,95"/>
<area shape="poly" title=" " alt="" coords="662,125,801,95,803,101,663,130"/>
<area shape="rect" href="classChildProcessManager.html#a3b7c34be0f81b8a841d4ecd28a837bf6" title=" " alt="" coords="796,120,959,160"/>
<area shape="poly" title=" " alt="" coords="715,137,782,137,782,143,715,143"/>
<area shape="rect" href="classChildProcessManager.html#a138e2d098e92a2c6d1ad7b35dadd6541" title="Spawn a UDP game server process." alt="" coords="796,184,959,224"/>
<area shape="poly" title=" " alt="" coords="657,150,783,180,782,185,656,155"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="787,249,968,274"/>
<area shape="poly" title=" " alt="" coords="710,258,773,258,773,264,709,263"/>
<area shape="poly" title=" " alt="" coords="671,270,794,293,793,298,670,275"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="1040,241,1231,281"/>
<area shape="poly" title=" " alt="" coords="968,259,1026,259,1026,264,968,264"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="1279,212,1471,252"/>
<area shape="poly" title=" " alt="" coords="1231,247,1265,243,1265,248,1231,252"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="1290,277,1459,302"/>
<area shape="poly" title=" " alt="" coords="1231,270,1277,275,1276,280,1231,275"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="1521,251,1663,277"/>
<area shape="poly" title=" " alt="" coords="1459,277,1507,271,1507,277,1460,282"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="1519,301,1665,326"/>
<area shape="poly" title=" " alt="" coords="1460,296,1505,301,1505,306,1459,301"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="1723,251,1849,277"/>
<area shape="poly" title=" " alt="" coords="1663,261,1709,261,1709,267,1663,267"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="1713,301,1859,326"/>
<area shape="poly" title=" " alt="" coords="1666,311,1699,311,1699,316,1666,316"/>
</map>
</div>

</div>
</div>
<a id="aee3fb51b52375d68f548f60cc7005ef0" name="aee3fb51b52375d68f548f60cc7005ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee3fb51b52375d68f548f60cc7005ef0">&#9670;&#160;</a></span>broadcastNewPlayer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::broadcastNewPlayer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;&#160;</td>
          <td class="paramname"><em>newClient</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify all clients of a newly connected player. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00578">578</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, <a class="el" href="TCPServer_8hpp_source.html#l00068">TCPServer::Client::hp</a>, <a class="el" href="TCPServer_8hpp_source.html#l00057">TCPServer::Client::id</a>, <a class="el" href="TCPServer_8hpp_source.html#l00063">TCPServer::Client::lobbyCode</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56ad4f5148ace6252399e4d60ce75602ae8">NEW_PLAYER</a>, <a class="el" href="TCPServer_8hpp_source.html#l00066">TCPServer::Client::posX</a>, <a class="el" href="TCPServer_8hpp_source.html#l00067">TCPServer::Client::posY</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00088">sendPacket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00702">handleLobbyPacket()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_aee3fb51b52375d68f548f60cc7005ef0_cgraph.png" border="0" usemap="#aclassTCPServer_aee3fb51b52375d68f548f60cc7005ef0_cgraph" alt=""/></div>
<map name="aclassTCPServer_aee3fb51b52375d68f548f60cc7005ef0_cgraph" id="aclassTCPServer_aee3fb51b52375d68f548f60cc7005ef0_cgraph">
<area shape="rect" title="Notify all clients of a newly connected player." alt="" coords="5,31,236,56"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="284,31,453,56"/>
<area shape="poly" title=" " alt="" coords="236,41,270,41,270,46,236,46"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="503,5,646,31"/>
<area shape="poly" title=" " alt="" coords="454,30,490,26,490,31,454,36"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="501,55,648,80"/>
<area shape="poly" title=" " alt="" coords="454,51,488,55,487,60,454,56"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="705,5,832,31"/>
<area shape="poly" title=" " alt="" coords="646,15,691,15,691,21,646,21"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="696,55,841,80"/>
<area shape="poly" title=" " alt="" coords="648,65,682,65,682,70,648,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_aee3fb51b52375d68f548f60cc7005ef0_icgraph.png" border="0" usemap="#aclassTCPServer_aee3fb51b52375d68f548f60cc7005ef0_icgraph" alt=""/></div>
<map name="aclassTCPServer_aee3fb51b52375d68f548f60cc7005ef0_icgraph" id="aclassTCPServer_aee3fb51b52375d68f548f60cc7005ef0_icgraph">
<area shape="rect" title="Notify all clients of a newly connected player." alt="" coords="805,5,1036,31"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,5,757,31"/>
<area shape="poly" title=" " alt="" coords="792,21,757,21,757,15,792,15"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,5,488,31"/>
<area shape="poly" title=" " alt="" coords="523,21,488,21,488,15,523,15"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,225,21,225,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="afb22938cbabd280ec30b3ffab25aeb56" name="afb22938cbabd280ec30b3ffab25aeb56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb22938cbabd280ec30b3ffab25aeb56">&#9670;&#160;</a></span>broadcastToLobby()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::broadcastToLobby </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>lobbyCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classPacket.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00079">79</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, <a class="el" href="ISocket_8hpp_source.html#l00045">INVALID_SOCKET_FD</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00088">sendPacket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00351">checkHeartbeat()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00203">processClientData()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00377">processIpcMessages()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_afb22938cbabd280ec30b3ffab25aeb56_cgraph.png" border="0" usemap="#aclassTCPServer_afb22938cbabd280ec30b3ffab25aeb56_cgraph" alt=""/></div>
<map name="aclassTCPServer_afb22938cbabd280ec30b3ffab25aeb56_cgraph" id="aclassTCPServer_afb22938cbabd280ec30b3ffab25aeb56_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,219,56"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="267,31,436,56"/>
<area shape="poly" title=" " alt="" coords="219,41,253,41,253,46,219,46"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="486,5,629,31"/>
<area shape="poly" title=" " alt="" coords="436,30,472,26,473,31,437,36"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="484,55,631,80"/>
<area shape="poly" title=" " alt="" coords="437,51,471,55,470,60,436,56"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="688,5,815,31"/>
<area shape="poly" title=" " alt="" coords="629,15,674,15,674,21,629,21"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="679,55,824,80"/>
<area shape="poly" title=" " alt="" coords="631,65,665,65,665,70,631,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_afb22938cbabd280ec30b3ffab25aeb56_icgraph.png" border="0" usemap="#aclassTCPServer_afb22938cbabd280ec30b3ffab25aeb56_icgraph" alt=""/></div>
<map name="aclassTCPServer_afb22938cbabd280ec30b3ffab25aeb56_icgraph" id="aclassTCPServer_afb22938cbabd280ec30b3ffab25aeb56_icgraph">
<area shape="rect" title=" " alt="" coords="552,55,765,80"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="289,5,488,31"/>
<area shape="poly" title=" " alt="" coords="575,55,459,33,460,28,576,50"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="281,55,496,80"/>
<area shape="poly" title=" " alt="" coords="538,70,496,70,496,65,538,65"/>
<area shape="rect" href="classTCPServer.html#a2a03b7479e884f287b5a88df03eeb17b" title=" " alt="" coords="273,104,504,129"/>
<area shape="poly" title=" " alt="" coords="576,85,460,107,459,101,575,80"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,55,225,80"/>
<area shape="poly" title=" " alt="" coords="312,36,274,45,221,57,219,52,273,39,311,31"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="94,70,60,70,60,65,94,65"/>
<area shape="poly" title=" " alt="" coords="268,70,226,70,226,65,268,65"/>
<area shape="poly" title=" " alt="" coords="316,104,273,94,223,83,224,77,274,89,317,98"/>
</map>
</div>

</div>
</div>
<a id="a196ba30f88f890e9acf0ef1a21a74c71" name="a196ba30f88f890e9acf0ef1a21a74c71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a196ba30f88f890e9acf0ef1a21a74c71">&#9670;&#160;</a></span>buildPlayerListPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPacket.html">Packet</a> TCPServer::buildPlayerListPacket </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>lobbyCode</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build the packet containing the list of connected players. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00549">549</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, and <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56aa933b4eab2f8c05c250a78452a4475ef">PLAYER_LIST</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00572">sendPlayerListToClient()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a196ba30f88f890e9acf0ef1a21a74c71_icgraph.png" border="0" usemap="#aclassTCPServer_a196ba30f88f890e9acf0ef1a21a74c71_icgraph" alt=""/></div>
<map name="aclassTCPServer_a196ba30f88f890e9acf0ef1a21a74c71_icgraph" id="aclassTCPServer_a196ba30f88f890e9acf0ef1a21a74c71_icgraph">
<area shape="rect" title="Build the packet containing the list of connected players." alt="" coords="1819,5,2011,45"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="1580,5,1771,45"/>
<area shape="poly" title=" " alt="" coords="1805,28,1771,28,1771,23,1805,23"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,39,757,65"/>
<area shape="poly" title=" " alt="" coords="1566,25,1226,22,1016,26,806,36,742,42,741,37,805,31,1016,21,1226,17,1566,20"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="1351,38,1532,63"/>
<area shape="poly" title=" " alt="" coords="1567,40,1532,44,1532,38,1566,34"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,41,488,66"/>
<area shape="poly" title=" " alt="" coords="523,55,488,55,488,50,522,50"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,90,225,115"/>
<area shape="poly" title=" " alt="" coords="310,72,274,80,221,92,220,87,273,75,309,66"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,90,60,115"/>
<area shape="poly" title=" " alt="" coords="94,105,60,105,60,100,94,100"/>
<area shape="poly" title=" " alt="" coords="1337,54,758,54,758,49,1337,48"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="1084,114,1303,139"/>
<area shape="poly" title=" " alt="" coords="1387,70,1237,116,1235,111,1385,65"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="832,89,1009,114"/>
<area shape="poly" title=" " alt="" coords="1070,118,1009,112,1010,107,1071,113"/>
<area shape="rect" href="classTCPServer.html#a2a03b7479e884f287b5a88df03eeb17b" title=" " alt="" coords="805,190,1036,215"/>
<area shape="poly" title=" " alt="" coords="1135,146,1037,173,968,192,967,187,1035,168,1133,140"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="563,139,730,165"/>
<area shape="poly" title=" " alt="" coords="1070,135,730,151,730,146,1070,130"/>
<area shape="poly" title=" " alt="" coords="835,89,718,67,719,62,836,84"/>
<area shape="rect" href="classTCPServer.html#ad6bed785945fc2f21376ff2b58090829" title="Auto&#45;match the client into a public lobby." alt="" coords="543,89,750,114"/>
<area shape="poly" title=" " alt="" coords="818,104,750,104,750,99,818,99"/>
<area shape="poly" title=" " alt="" coords="811,219,697,227,561,228,488,223,415,214,342,200,272,180,244,167,218,150,179,118,183,114,221,146,247,162,274,175,344,195,416,209,489,218,561,222,697,222,811,214"/>
<area shape="poly" title=" " alt="" coords="556,137,535,128,519,115,510,103,501,91,487,80,460,69,462,64,489,75,505,87,514,100,523,112,537,123,558,132"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="281,90,480,115"/>
<area shape="poly" title=" " alt="" coords="564,139,450,118,451,113,565,134"/>
<area shape="rect" href="classTCPServer.html#abc497ac52355e53986a6a1bd1acb9581" title="Destroy the TCPServer, closing the listening socket." alt="" coords="294,139,467,165"/>
<area shape="poly" title=" " alt="" coords="550,155,468,155,468,149,550,149"/>
<area shape="poly" title=" " alt="" coords="268,105,226,105,226,100,268,100"/>
</map>
</div>

</div>
</div>
<a id="a867c0e233f62e2d8f181ae99dbcca0a0" name="a867c0e233f62e2d8f181ae99dbcca0a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a867c0e233f62e2d8f181ae99dbcca0a0">&#9670;&#160;</a></span>checkHeartbeat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::checkHeartbeat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disconnect clients whose heartbeat timed out. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00351">351</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, <a class="el" href="TCPServer_8cpp_source.html#l00079">broadcastToLobby()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00334">getCurrentTime()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00060">makeStringPacket()</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a90791ed805bd5b00d78527d39d9ef7e4">MESSAGE</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a392253eaea22aafdb199bc238bafc082">REFUSED</a>, <a class="el" href="TCPServer_8cpp_source.html#l00142">resetClient()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00088">sendPacket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00446">run()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a867c0e233f62e2d8f181ae99dbcca0a0_cgraph.png" border="0" usemap="#aclassTCPServer_a867c0e233f62e2d8f181ae99dbcca0a0_cgraph" alt=""/></div>
<map name="aclassTCPServer_a867c0e233f62e2d8f181ae99dbcca0a0_cgraph" id="aclassTCPServer_a867c0e233f62e2d8f181ae99dbcca0a0_cgraph">
<area shape="rect" title="Disconnect clients whose heartbeat timed out." alt="" coords="5,116,204,141"/>
<area shape="rect" href="classTCPServer.html#afb22938cbabd280ec30b3ffab25aeb56" title=" " alt="" coords="1056,14,1269,40"/>
<area shape="poly" title=" " alt="" coords="125,113,180,83,215,68,251,56,358,35,467,19,577,10,685,5,884,5,1043,13,1042,19,884,10,685,10,578,15,468,25,359,40,253,61,217,73,183,88,128,118"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="1329,65,1498,90"/>
<area shape="poly" title=" " alt="" coords="170,113,252,100,435,80,620,75,895,75,1315,75,1315,80,895,80,620,80,436,86,252,106,171,118"/>
<area shape="rect" href="classTCPServer.html#a6d824f4302f15bbd2c7c8b754d1a51dd" title="Get current time in milliseconds." alt="" coords="259,116,457,141"/>
<area shape="poly" title=" " alt="" coords="204,126,245,126,245,131,204,131"/>
<area shape="rect" href="classTCPServer.html#a35b89efbda16dd8af6b7ff45b6da036d" title="Build a packet carrying a string payload." alt="" coords="252,165,464,190"/>
<area shape="poly" title=" " alt="" coords="171,138,279,160,278,165,170,144"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="275,214,441,240"/>
<area shape="poly" title=" " alt="" coords="129,139,184,169,253,199,282,208,280,213,251,204,182,173,126,143"/>
<area shape="poly" title=" " alt="" coords="1227,37,1337,60,1336,65,1226,42"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="1559,41,1702,66"/>
<area shape="poly" title=" " alt="" coords="1498,66,1545,60,1546,66,1499,71"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="1557,90,1704,116"/>
<area shape="poly" title=" " alt="" coords="1499,85,1544,90,1543,95,1498,90"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="1761,41,1888,66"/>
<area shape="poly" title=" " alt="" coords="1702,51,1747,51,1747,56,1702,56"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="1752,90,1897,116"/>
<area shape="poly" title=" " alt="" coords="1704,100,1738,100,1738,106,1704,106"/>
<area shape="rect" href="classTCPServer.html#aa6089a11e438f73bfc614c44f86e5d75" title="Close and invalidate a file descriptor." alt="" coords="548,140,695,165"/>
<area shape="poly" title=" " alt="" coords="422,212,463,199,487,186,511,174,536,166,538,171,513,179,489,191,465,204,424,217"/>
<area shape="rect" href="classSessionManager.html#a8916c4ee701635dd8b2ee525331efb0b" title="Remove a session by player id." alt="" coords="513,189,729,214"/>
<area shape="poly" title=" " alt="" coords="441,216,499,211,500,216,442,222"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="512,238,731,264"/>
<area shape="poly" title=" " alt="" coords="442,232,498,237,497,242,441,237"/>
<area shape="rect" href="classTCPServer.html#a2595c03eed6bf37e098e619e6751a3d4" title="Close a raw fd without resetting the caller&#39;s variable." alt="" coords="806,140,981,165"/>
<area shape="poly" title=" " alt="" coords="695,150,792,150,792,155,695,155"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="803,189,984,214"/>
<area shape="poly" title=" " alt="" coords="692,236,808,214,809,219,693,241"/>
<area shape="rect" href="classSessionManager.html#a8023cf136e039298b1e2ba5fe7cb224b" title="Store the lobby code for a player." alt="" coords="779,238,1008,264"/>
<area shape="poly" title=" " alt="" coords="731,248,765,248,765,254,731,254"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="1067,148,1258,188"/>
<area shape="poly" title=" " alt="" coords="984,188,1053,179,1054,184,985,193"/>
<area shape="poly" title=" " alt="" coords="1218,146,1363,93,1365,98,1220,151"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="1317,148,1509,188"/>
<area shape="poly" title=" " alt="" coords="1258,166,1303,166,1303,171,1258,171"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a867c0e233f62e2d8f181ae99dbcca0a0_icgraph.png" border="0" usemap="#aclassTCPServer_a867c0e233f62e2d8f181ae99dbcca0a0_icgraph" alt=""/></div>
<map name="aclassTCPServer_a867c0e233f62e2d8f181ae99dbcca0a0_icgraph" id="aclassTCPServer_a867c0e233f62e2d8f181ae99dbcca0a0_icgraph">
<area shape="rect" title="Disconnect clients whose heartbeat timed out." alt="" coords="273,5,472,31"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,226,21,226,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="aa6089a11e438f73bfc614c44f86e5d75" name="aa6089a11e438f73bfc614c44f86e5d75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6089a11e438f73bfc614c44f86e5d75">&#9670;&#160;</a></span>closeFd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::closeFd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a> &amp;&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close and invalidate a file descriptor. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00134">134</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8cpp_source.html#l00532">closeFdRaw()</a>, and <a class="el" href="ISocket_8hpp_source.html#l00045">INVALID_SOCKET_FD</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00165">acceptNewClient()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00142">resetClient()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_aa6089a11e438f73bfc614c44f86e5d75_cgraph.png" border="0" usemap="#aclassTCPServer_aa6089a11e438f73bfc614c44f86e5d75_cgraph" alt=""/></div>
<map name="aclassTCPServer_aa6089a11e438f73bfc614c44f86e5d75_cgraph" id="aclassTCPServer_aa6089a11e438f73bfc614c44f86e5d75_cgraph">
<area shape="rect" title="Close and invalidate a file descriptor." alt="" coords="5,5,152,31"/>
<area shape="rect" href="classTCPServer.html#a2595c03eed6bf37e098e619e6751a3d4" title="Close a raw fd without resetting the caller&#39;s variable." alt="" coords="200,5,375,31"/>
<area shape="poly" title=" " alt="" coords="152,15,186,15,186,21,152,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_aa6089a11e438f73bfc614c44f86e5d75_icgraph.png" border="0" usemap="#aclassTCPServer_aa6089a11e438f73bfc614c44f86e5d75_icgraph" alt=""/></div>
<map name="aclassTCPServer_aa6089a11e438f73bfc614c44f86e5d75_icgraph" id="aclassTCPServer_aa6089a11e438f73bfc614c44f86e5d75_icgraph">
<area shape="rect" title="Close and invalidate a file descriptor." alt="" coords="791,44,937,69"/>
<area shape="rect" href="classTCPServer.html#ae0e94f8d712b3c9028fe674100d649b9" title="Accept incoming connection and register a new client slot." alt="" coords="536,5,743,31"/>
<area shape="poly" title=" " alt="" coords="777,44,713,33,714,28,777,39"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="556,68,723,93"/>
<area shape="poly" title=" " alt="" coords="777,69,723,74,722,69,777,63"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,43,225,68"/>
<area shape="poly" title=" " alt="" coords="522,18,402,21,274,33,213,45,212,40,273,27,402,16,522,13"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,43,60,68"/>
<area shape="poly" title=" " alt="" coords="94,58,60,58,60,53,94,53"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="281,43,480,68"/>
<area shape="poly" title=" " alt="" coords="542,74,480,68,480,62,542,69"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,92,488,117"/>
<area shape="poly" title=" " alt="" coords="543,92,489,97,488,92,542,87"/>
<area shape="rect" href="classTCPServer.html#abc497ac52355e53986a6a1bd1acb9581" title="Destroy the TCPServer, closing the listening socket." alt="" coords="294,141,467,167"/>
<area shape="poly" title=" " alt="" coords="589,100,489,131,440,144,438,139,487,126,587,95"/>
<area shape="poly" title=" " alt="" coords="268,58,226,58,226,53,268,53"/>
<area shape="poly" title=" " alt="" coords="311,91,222,71,223,65,312,86"/>
</map>
</div>

</div>
</div>
<a id="a2595c03eed6bf37e098e619e6751a3d4" name="a2595c03eed6bf37e098e619e6751a3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2595c03eed6bf37e098e619e6751a3d4">&#9670;&#160;</a></span>closeFdRaw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TCPServer::closeFdRaw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a>&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close a raw fd without resetting the caller's variable. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00532">532</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="ISocket_8hpp_source.html#l00042">CLOSE</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00134">closeFd()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a2595c03eed6bf37e098e619e6751a3d4_icgraph.png" border="0" usemap="#aclassTCPServer_a2595c03eed6bf37e098e619e6751a3d4_icgraph" alt=""/></div>
<map name="aclassTCPServer_a2595c03eed6bf37e098e619e6751a3d4_icgraph" id="aclassTCPServer_a2595c03eed6bf37e098e619e6751a3d4_icgraph">
<area shape="rect" title="Close a raw fd without resetting the caller&#39;s variable." alt="" coords="985,44,1160,69"/>
<area shape="rect" href="classTCPServer.html#aa6089a11e438f73bfc614c44f86e5d75" title="Close and invalidate a file descriptor." alt="" coords="791,44,937,69"/>
<area shape="poly" title=" " alt="" coords="972,59,937,59,937,54,972,54"/>
<area shape="rect" href="classTCPServer.html#ae0e94f8d712b3c9028fe674100d649b9" title="Accept incoming connection and register a new client slot." alt="" coords="536,5,743,31"/>
<area shape="poly" title=" " alt="" coords="777,44,713,33,714,28,777,39"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="556,68,723,93"/>
<area shape="poly" title=" " alt="" coords="777,69,723,74,722,69,777,63"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,43,225,68"/>
<area shape="poly" title=" " alt="" coords="522,18,402,21,274,33,213,45,212,40,273,27,402,16,522,13"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,43,60,68"/>
<area shape="poly" title=" " alt="" coords="94,58,60,58,60,53,94,53"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="281,43,480,68"/>
<area shape="poly" title=" " alt="" coords="542,74,480,68,480,62,542,69"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,92,488,117"/>
<area shape="poly" title=" " alt="" coords="543,92,489,97,488,92,542,87"/>
<area shape="rect" href="classTCPServer.html#abc497ac52355e53986a6a1bd1acb9581" title="Destroy the TCPServer, closing the listening socket." alt="" coords="294,141,467,167"/>
<area shape="poly" title=" " alt="" coords="589,100,489,131,440,144,438,139,487,126,587,95"/>
<area shape="poly" title=" " alt="" coords="268,58,226,58,226,53,268,53"/>
<area shape="poly" title=" " alt="" coords="311,91,222,71,223,65,312,86"/>
</map>
</div>

</div>
</div>
<a id="a30203c2836aa52676f3e6205d8730943" name="a30203c2836aa52676f3e6205d8730943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30203c2836aa52676f3e6205d8730943">&#9670;&#160;</a></span>ensureLobbyProcess()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::ensureLobbyProcess </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPublic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00647">647</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00235">_childMgr</a>, <a class="el" href="TCPServer_8hpp_source.html#l00233">_lobbies</a>, <a class="el" href="ChildProcessManager_8hpp_source.html#l00050">ChildProcessManager::activeCount()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00639">allocatePort()</a>, <a class="el" href="ChildProcessManager_8hpp_source.html#l00051">ChildProcessManager::maxCount()</a>, and <a class="el" href="ChildProcessManager_8cpp_source.html#l00021">ChildProcessManager::spawn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00669">assignLobby()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a30203c2836aa52676f3e6205d8730943_cgraph.png" border="0" usemap="#aclassTCPServer_a30203c2836aa52676f3e6205d8730943_cgraph" alt=""/></div>
<map name="aclassTCPServer_a30203c2836aa52676f3e6205d8730943_cgraph" id="aclassTCPServer_a30203c2836aa52676f3e6205d8730943_cgraph">
<area shape="rect" title=" " alt="" coords="5,99,235,125"/>
<area shape="rect" href="classChildProcessManager.html#af9be1ce64da7e05952b231b22df221a0" title=" " alt="" coords="289,5,451,45"/>
<area shape="poly" title=" " alt="" coords="157,97,297,48,299,53,159,102"/>
<area shape="rect" href="classTCPServer.html#a25273652d6d80037ec5bcad8725bd269" title=" " alt="" coords="283,70,457,95"/>
<area shape="poly" title=" " alt="" coords="228,97,268,92,269,97,229,102"/>
<area shape="rect" href="classChildProcessManager.html#a3b7c34be0f81b8a841d4ecd28a837bf6" title=" " alt="" coords="289,120,451,160"/>
<area shape="poly" title=" " alt="" coords="234,122,275,127,275,132,233,127"/>
<area shape="rect" href="classChildProcessManager.html#a138e2d098e92a2c6d1ad7b35dadd6541" title="Spawn a UDP game server process." alt="" coords="289,184,451,224"/>
<area shape="poly" title=" " alt="" coords="157,122,303,177,301,182,155,127"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a30203c2836aa52676f3e6205d8730943_icgraph.png" border="0" usemap="#aclassTCPServer_a30203c2836aa52676f3e6205d8730943_icgraph" alt=""/></div>
<map name="aclassTCPServer_a30203c2836aa52676f3e6205d8730943_icgraph" id="aclassTCPServer_a30203c2836aa52676f3e6205d8730943_icgraph">
<area shape="rect" title=" " alt="" coords="1031,31,1260,56"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="805,31,983,56"/>
<area shape="poly" title=" " alt="" coords="1017,46,983,46,983,41,1017,41"/>
<area shape="rect" href="classTCPServer.html#ad6bed785945fc2f21376ff2b58090829" title="Auto&#45;match the client into a public lobby." alt="" coords="543,5,750,31"/>
<area shape="poly" title=" " alt="" coords="791,36,750,31,750,26,792,30"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,55,757,80"/>
<area shape="poly" title=" " alt="" coords="792,56,758,59,757,54,791,51"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,55,488,80"/>
<area shape="poly" title=" " alt="" coords="523,70,488,70,488,65,523,65"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,55,225,80"/>
<area shape="poly" title=" " alt="" coords="260,70,225,70,225,65,260,65"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="94,70,60,70,60,65,94,65"/>
</map>
</div>

</div>
</div>
<a id="a063b685012f0cd7b069ad82dbffcb95f" name="a063b685012f0cd7b069ad82dbffcb95f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a063b685012f0cd7b069ad82dbffcb95f">&#9670;&#160;</a></span>generateLobbyCode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string TCPServer::generateLobbyCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a random lobby code (6 chars alnum). </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00605">605</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00233">_lobbies</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00702">handleLobbyPacket()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a063b685012f0cd7b069ad82dbffcb95f_icgraph.png" border="0" usemap="#aclassTCPServer_a063b685012f0cd7b069ad82dbffcb95f_icgraph" alt=""/></div>
<map name="aclassTCPServer_a063b685012f0cd7b069ad82dbffcb95f_icgraph" id="aclassTCPServer_a063b685012f0cd7b069ad82dbffcb95f_icgraph">
<area shape="rect" title="Generate a random lobby code (6 chars alnum)." alt="" coords="805,5,1032,31"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,5,757,31"/>
<area shape="poly" title=" " alt="" coords="792,21,757,21,757,15,792,15"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,5,488,31"/>
<area shape="poly" title=" " alt="" coords="523,21,488,21,488,15,523,15"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,225,21,225,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a6d824f4302f15bbd2c7c8b754d1a51dd" name="a6d824f4302f15bbd2c7c8b754d1a51dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d824f4302f15bbd2c7c8b754d1a51dd">&#9670;&#160;</a></span>getCurrentTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long TCPServer::getCurrentTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get current time in milliseconds. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00334">334</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00165">acceptNewClient()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00351">checkHeartbeat()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00203">processClientData()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00446">run()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a6d824f4302f15bbd2c7c8b754d1a51dd_icgraph.png" border="0" usemap="#aclassTCPServer_a6d824f4302f15bbd2c7c8b754d1a51dd_icgraph" alt=""/></div>
<map name="aclassTCPServer_a6d824f4302f15bbd2c7c8b754d1a51dd_icgraph" id="aclassTCPServer_a6d824f4302f15bbd2c7c8b754d1a51dd_icgraph">
<area shape="rect" title="Get current time in milliseconds." alt="" coords="536,81,735,107"/>
<area shape="rect" href="classTCPServer.html#ae0e94f8d712b3c9028fe674100d649b9" title="Accept incoming connection and register a new client slot." alt="" coords="277,5,484,31"/>
<area shape="poly" title=" " alt="" coords="578,80,424,33,425,28,579,75"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,81,225,107"/>
<area shape="poly" title=" " alt="" coords="522,97,226,97,226,91,522,91"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="281,107,480,132"/>
<area shape="poly" title=" " alt="" coords="523,108,481,112,480,107,522,103"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,156,488,181"/>
<area shape="poly" title=" " alt="" coords="587,114,489,146,440,159,439,153,487,141,585,109"/>
<area shape="poly" title=" " alt="" coords="321,37,274,53,197,84,195,79,272,47,320,32"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,81,60,107"/>
<area shape="poly" title=" " alt="" coords="94,97,60,97,60,91,94,91"/>
<area shape="poly" title=" " alt="" coords="267,109,225,104,226,98,268,103"/>
<area shape="poly" title=" " alt="" coords="303,155,272,146,191,109,193,104,274,141,304,150"/>
</map>
</div>

</div>
</div>
<a id="afd78aa179d3b735e82868d800629b354" name="afd78aa179d3b735e82868d800629b354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd78aa179d3b735e82868d800629b354">&#9670;&#160;</a></span>handleLobbyPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::handleLobbyPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classPacket.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle lobby-related packets for a client. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00702">702</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00233">_lobbies</a>, <a class="el" href="TCPServer_8cpp_source.html#l00669">assignLobby()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00578">broadcastNewPlayer()</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a262dd3836d38576837418316684d57fa">CREATE_LOBBY</a>, <a class="el" href="TCPServer_8hpp_source.html#l00058">TCPServer::Client::fd</a>, <a class="el" href="TCPServer_8cpp_source.html#l00605">generateLobbyCode()</a>, <a class="el" href="TCPServer_8hpp_source.html#l00060">TCPServer::Client::handshakeDone</a>, <a class="el" href="TCPServer_8hpp_source.html#l00057">TCPServer::Client::id</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a3888a668dd55727dbed1a4d11ad839db">JOIN_LOBBY</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a641d4a02e984224028338d5c33936ce9">LOBBY_ERROR</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56ad516ccad8300c04495db993fcec70efc">LOBBY_OK</a>, <a class="el" href="TCPServer_8cpp_source.html#l00074">makeLobbyPacket()</a>, <a class="el" href="TCPServer_8hpp_source.html#l00023">MAX_CLIENT</a>, <a class="el" href="Packet_8hpp_source.html#l00052">Packet::payload</a>, <a class="el" href="TCPServer_8cpp_source.html#l00596">refreshLobby()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00088">sendPacket()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00572">sendPlayerListToClient()</a>, and <a class="el" href="Packet_8hpp_source.html#l00050">Packet::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00203">processClientData()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_afd78aa179d3b735e82868d800629b354_cgraph.png" border="0" usemap="#aclassTCPServer_afd78aa179d3b735e82868d800629b354_cgraph" alt=""/></div>
<map name="aclassTCPServer_afd78aa179d3b735e82868d800629b354_cgraph" id="aclassTCPServer_afd78aa179d3b735e82868d800629b354_cgraph">
<area shape="rect" title="Handle lobby&#45;related packets for a client." alt="" coords="5,401,227,426"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="299,223,477,249"/>
<area shape="poly" title=" " alt="" coords="131,398,191,349,273,291,345,252,347,257,276,296,195,353,134,403"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="851,299,1032,325"/>
<area shape="poly" title=" " alt="" coords="138,398,198,368,235,353,274,341,349,326,426,315,579,303,720,300,837,303,837,308,720,305,579,308,426,320,350,332,275,347,237,358,200,373,141,403"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="1124,336,1315,376"/>
<area shape="poly" title=" " alt="" coords="214,398,274,392,508,377,740,366,1110,355,1110,360,740,371,508,382,275,397,214,403"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="1394,401,1563,426"/>
<area shape="poly" title=" " alt="" coords="227,411,663,411,943,411,1381,411,1381,416,943,416,663,416,227,416"/>
<area shape="rect" href="classTCPServer.html#aee3fb51b52375d68f548f60cc7005ef0" title="Notify all clients of a newly connected player." alt="" coords="1104,451,1335,477"/>
<area shape="poly" title=" " alt="" coords="214,423,275,429,499,443,723,452,1090,460,1090,466,723,458,499,449,274,435,213,429"/>
<area shape="rect" href="classTCPServer.html#a063b685012f0cd7b069ad82dbffcb95f" title="Generate a random lobby code (6 chars alnum)." alt="" coords="275,502,501,527"/>
<area shape="poly" title=" " alt="" coords="145,424,204,451,276,480,324,496,323,501,274,485,202,456,142,429"/>
<area shape="rect" href="classTCPServer.html#ae45d63761257c84a68a96c24541c13e4" title=" " alt="" coords="281,551,495,577"/>
<area shape="poly" title=" " alt="" coords="131,424,189,480,231,511,276,538,293,545,291,550,273,542,228,516,186,484,127,428"/>
<area shape="rect" href="classTCPServer.html#a30203c2836aa52676f3e6205d8730943" title=" " alt="" coords="549,127,779,153"/>
<area shape="poly" title=" " alt="" coords="425,221,613,155,614,160,427,226"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="555,249,773,274"/>
<area shape="poly" title=" " alt="" coords="477,241,541,247,541,253,477,247"/>
<area shape="rect" href="classSessionManager.html#a8023cf136e039298b1e2ba5fe7cb224b" title="Store the lobby code for a player." alt="" coords="827,249,1056,274"/>
<area shape="poly" title=" " alt="" coords="477,229,619,227,779,233,861,244,861,249,778,239,619,233,477,235"/>
<area shape="rect" href="classChildProcessManager.html#af9be1ce64da7e05952b231b22df221a0" title=" " alt="" coords="860,5,1023,45"/>
<area shape="poly" title=" " alt="" coords="686,125,748,91,826,55,847,47,849,52,828,60,750,96,688,129"/>
<area shape="rect" href="classTCPServer.html#a25273652d6d80037ec5bcad8725bd269" title=" " alt="" coords="854,70,1029,95"/>
<area shape="poly" title=" " alt="" coords="726,125,865,95,867,101,727,130"/>
<area shape="rect" href="classChildProcessManager.html#a3b7c34be0f81b8a841d4ecd28a837bf6" title=" " alt="" coords="860,120,1023,160"/>
<area shape="poly" title=" " alt="" coords="779,137,846,137,846,143,779,143"/>
<area shape="rect" href="classChildProcessManager.html#a138e2d098e92a2c6d1ad7b35dadd6541" title="Spawn a UDP game server process." alt="" coords="860,184,1023,224"/>
<area shape="poly" title=" " alt="" coords="721,150,847,180,846,185,720,155"/>
<area shape="poly" title=" " alt="" coords="735,271,858,294,857,299,734,277"/>
<area shape="poly" title=" " alt="" coords="773,259,813,259,813,264,773,264"/>
<area shape="poly" title=" " alt="" coords="1022,322,1111,336,1110,341,1022,327"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="1383,336,1575,376"/>
<area shape="poly" title=" " alt="" coords="1315,353,1369,353,1369,359,1315,359"/>
<area shape="poly" title=" " alt="" coords="1311,373,1408,395,1407,400,1310,379"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="1625,375,1767,401"/>
<area shape="poly" title=" " alt="" coords="1563,401,1611,395,1611,401,1564,406"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="1623,425,1769,450"/>
<area shape="poly" title=" " alt="" coords="1564,420,1609,425,1609,430,1563,425"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="1827,375,1953,401"/>
<area shape="poly" title=" " alt="" coords="1767,385,1813,385,1813,391,1767,391"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="1817,425,1963,450"/>
<area shape="poly" title=" " alt="" coords="1770,435,1803,435,1803,440,1770,440"/>
<area shape="poly" title=" " alt="" coords="1285,449,1399,426,1400,431,1286,454"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_afd78aa179d3b735e82868d800629b354_icgraph.png" border="0" usemap="#aclassTCPServer_afd78aa179d3b735e82868d800629b354_icgraph" alt=""/></div>
<map name="aclassTCPServer_afd78aa179d3b735e82868d800629b354_icgraph" id="aclassTCPServer_afd78aa179d3b735e82868d800629b354_icgraph">
<area shape="rect" title="Handle lobby&#45;related packets for a client." alt="" coords="536,5,757,31"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,5,488,31"/>
<area shape="poly" title=" " alt="" coords="523,21,488,21,488,15,523,15"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,225,21,225,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a13efa1ebda8d0f4c99eae65d6b012b75" name="a13efa1ebda8d0f4c99eae65d6b012b75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13efa1ebda8d0f4c99eae65d6b012b75">&#9670;&#160;</a></span>makeIdPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPacket.html">Packet</a> TCPServer::makeIdPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56">PacketType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build a packet carrying a simple integer id. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00065">65</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00203">processClientData()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a13efa1ebda8d0f4c99eae65d6b012b75_icgraph.png" border="0" usemap="#aclassTCPServer_a13efa1ebda8d0f4c99eae65d6b012b75_icgraph" alt=""/></div>
<map name="aclassTCPServer_a13efa1ebda8d0f4c99eae65d6b012b75_icgraph" id="aclassTCPServer_a13efa1ebda8d0f4c99eae65d6b012b75_icgraph">
<area shape="rect" title="Build a packet carrying a simple integer id." alt="" coords="536,5,723,31"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,5,488,31"/>
<area shape="poly" title=" " alt="" coords="522,21,488,21,488,15,522,15"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,225,21,225,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="ae45d63761257c84a68a96c24541c13e4" name="ae45d63761257c84a68a96c24541c13e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae45d63761257c84a68a96c24541c13e4">&#9670;&#160;</a></span>makeLobbyPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPacket.html">Packet</a> TCPServer::makeLobbyPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56">PacketType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00074">74</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00702">handleLobbyPacket()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_ae45d63761257c84a68a96c24541c13e4_icgraph.png" border="0" usemap="#aclassTCPServer_ae45d63761257c84a68a96c24541c13e4_icgraph" alt=""/></div>
<map name="aclassTCPServer_ae45d63761257c84a68a96c24541c13e4_icgraph" id="aclassTCPServer_ae45d63761257c84a68a96c24541c13e4_icgraph">
<area shape="rect" title=" " alt="" coords="805,5,1019,31"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,5,757,31"/>
<area shape="poly" title=" " alt="" coords="791,21,757,21,757,15,791,15"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,5,488,31"/>
<area shape="poly" title=" " alt="" coords="523,21,488,21,488,15,523,15"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,225,21,225,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a35b89efbda16dd8af6b7ff45b6da036d" name="a35b89efbda16dd8af6b7ff45b6da036d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35b89efbda16dd8af6b7ff45b6da036d">&#9670;&#160;</a></span>makeStringPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPacket.html">Packet</a> TCPServer::makeStringPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56">PacketType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build a packet carrying a string payload. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00060">60</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00165">acceptNewClient()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00351">checkHeartbeat()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00203">processClientData()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00377">processIpcMessages()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a35b89efbda16dd8af6b7ff45b6da036d_icgraph.png" border="0" usemap="#aclassTCPServer_a35b89efbda16dd8af6b7ff45b6da036d_icgraph" alt=""/></div>
<map name="aclassTCPServer_a35b89efbda16dd8af6b7ff45b6da036d_icgraph" id="aclassTCPServer_a35b89efbda16dd8af6b7ff45b6da036d_icgraph">
<area shape="rect" title="Build a packet carrying a string payload." alt="" coords="552,80,764,105"/>
<area shape="rect" href="classTCPServer.html#ae0e94f8d712b3c9028fe674100d649b9" title="Accept incoming connection and register a new client slot." alt="" coords="285,5,492,31"/>
<area shape="poly" title=" " alt="" coords="608,78,503,45,456,33,457,28,505,39,610,73"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="289,55,488,80"/>
<area shape="poly" title=" " alt="" coords="538,84,488,79,489,74,539,79"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="281,104,496,129"/>
<area shape="poly" title=" " alt="" coords="539,106,496,110,496,104,538,101"/>
<area shape="rect" href="classTCPServer.html#a2a03b7479e884f287b5a88df03eeb17b" title=" " alt="" coords="273,153,504,179"/>
<area shape="poly" title=" " alt="" coords="607,112,505,143,452,156,451,151,503,138,606,107"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,80,225,105"/>
<area shape="poly" title=" " alt="" coords="301,37,274,45,230,63,192,82,189,78,227,58,272,39,299,32"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,80,60,105"/>
<area shape="poly" title=" " alt="" coords="94,95,60,95,60,90,94,90"/>
<area shape="poly" title=" " alt="" coords="276,83,226,89,226,83,276,78"/>
<area shape="poly" title=" " alt="" coords="267,106,226,102,226,96,268,101"/>
<area shape="poly" title=" " alt="" coords="305,153,272,143,191,108,193,103,274,138,307,148"/>
</map>
</div>

</div>
</div>
<a id="a5e77543739e5b801384f9fe3e63c2bf8" name="a5e77543739e5b801384f9fe3e63c2bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e77543739e5b801384f9fe3e63c2bf8">&#9670;&#160;</a></span>pollSockets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TCPServer::pollSockets </td>
          <td>(</td>
          <td class="paramtype">fd_set &amp;&#160;</td>
          <td class="paramname"><em>readfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval &amp;&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Poll all sockets using select(). </p>
<dl class="section return"><dt>Returns</dt><dd>Number of ready descriptors or -1 on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00160">160</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8cpp_source.html#l00527">selectFdSet()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00446">run()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a5e77543739e5b801384f9fe3e63c2bf8_cgraph.png" border="0" usemap="#aclassTCPServer_a5e77543739e5b801384f9fe3e63c2bf8_cgraph" alt=""/></div>
<map name="aclassTCPServer_a5e77543739e5b801384f9fe3e63c2bf8_cgraph" id="aclassTCPServer_a5e77543739e5b801384f9fe3e63c2bf8_cgraph">
<area shape="rect" title="Poll all sockets using select()." alt="" coords="5,5,176,31"/>
<area shape="rect" href="classTCPServer.html#a3b0daca7192b0342a5694a287319ddaa" title="Wrapper around select for testability." alt="" coords="224,5,396,31"/>
<area shape="poly" title=" " alt="" coords="176,15,210,15,210,21,176,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a5e77543739e5b801384f9fe3e63c2bf8_icgraph.png" border="0" usemap="#aclassTCPServer_a5e77543739e5b801384f9fe3e63c2bf8_icgraph" alt=""/></div>
<map name="aclassTCPServer_a5e77543739e5b801384f9fe3e63c2bf8_icgraph" id="aclassTCPServer_a5e77543739e5b801384f9fe3e63c2bf8_icgraph">
<area shape="rect" title="Poll all sockets using select()." alt="" coords="273,5,444,31"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,226,21,226,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="ada05a61182a782b4d3326fabd26a19bf" name="ada05a61182a782b4d3326fabd26a19bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada05a61182a782b4d3326fabd26a19bf">&#9670;&#160;</a></span>processClientData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::processClientData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read and handle data for a single client. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00203">203</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, <a class="el" href="TCPServer_8hpp_source.html#l00225">_sessions</a>, <a class="el" href="TCPServer_8cpp_source.html#l00079">broadcastToLobby()</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a68f215961d3807b1f3e363ab9dc3b9fd">CLIENT_HELLO</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a262dd3836d38576837418316684d57fa">CREATE_LOBBY</a>, <a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581caef70e46fd3bbc21e3e1f0b6815e750c0">Disconnected</a>, <a class="el" href="TCPServer_8hpp_source.html#l00058">TCPServer::Client::fd</a>, <a class="el" href="TCPServer_8cpp_source.html#l00334">getCurrentTime()</a>, <a class="el" href="SessionManager_8cpp_source.html#l00088">SessionManager::getLobbyCode()</a>, <a class="el" href="SessionManager_8cpp_source.html#l00106">SessionManager::getPseudo()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00702">handleLobbyPacket()</a>, <a class="el" href="TCPServer_8hpp_source.html#l00060">TCPServer::Client::handshakeDone</a>, <a class="el" href="TCPServer_8hpp_source.html#l00057">TCPServer::Client::id</a>, <a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581ca4307e7e7986aa21a4b7c3ef2b5e948f6">Incomplete</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a3888a668dd55727dbed1a4d11ad839db">JOIN_LOBBY</a>, <a class="el" href="TCPServer_8hpp_source.html#l00061">TCPServer::Client::lastPongTime</a>, <a class="el" href="TCPServer_8hpp_source.html#l00063">TCPServer::Client::lobbyCode</a>, <a class="el" href="TCPServer_8cpp_source.html#l00065">makeIdPacket()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00060">makeStringPacket()</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a90791ed805bd5b00d78527d39d9ef7e4">MESSAGE</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56ae0aa021e21dddbd6d8cecec71e9cf564">OK</a>, <a class="el" href="Packet_8hpp_source.html#l00052">Packet::payload</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a15c94917c8795679ecb650ed760c27f0">PONG</a>, <a class="el" href="TCPServer_8hpp_source.html#l00064">TCPServer::Client::pseudo</a>, <a class="el" href="TCPServer_8cpp_source.html#l00102">receivePacket()</a>, <a class="el" href="TCPServer_8hpp_source.html#l00069">TCPServer::Client::recvBuffer</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a392253eaea22aafdb199bc238bafc082">REFUSED</a>, <a class="el" href="TCPServer_8cpp_source.html#l00142">resetClient()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00088">sendPacket()</a>, <a class="el" href="SessionManager_8cpp_source.html#l00097">SessionManager::setPseudo()</a>, <a class="el" href="Packet_8hpp_source.html#l00050">Packet::type</a>, and <a class="el" href="SessionManager_8cpp_source.html#l00070">SessionManager::updatePong()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00446">run()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_ada05a61182a782b4d3326fabd26a19bf_cgraph.png" border="0" usemap="#aclassTCPServer_ada05a61182a782b4d3326fabd26a19bf_cgraph" alt=""/></div>
<map name="aclassTCPServer_ada05a61182a782b4d3326fabd26a19bf_cgraph" id="aclassTCPServer_ada05a61182a782b4d3326fabd26a19bf_cgraph">
<area shape="rect" title="Read and handle data for a single client." alt="" coords="5,524,220,549"/>
<area shape="rect" href="classTCPServer.html#afb22938cbabd280ec30b3ffab25aeb56" title=" " alt="" coords="1385,49,1598,74"/>
<area shape="poly" title=" " alt="" coords="116,522,134,476,166,408,210,333,237,297,266,264,358,173,399,138,440,109,484,87,534,71,591,62,659,59,937,59,1371,59,1371,64,937,64,659,64,592,67,535,77,487,92,443,114,402,142,362,177,270,267,241,300,214,336,171,411,139,478,121,524"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="1666,100,1835,125"/>
<area shape="poly" title=" " alt="" coords="113,523,124,459,150,361,170,307,196,253,227,201,266,156,313,112,357,78,399,52,442,33,488,20,538,13,659,8,1215,8,1413,3,1500,10,1607,34,1670,59,1722,90,1719,94,1668,64,1606,39,1499,15,1413,8,1215,14,659,14,538,18,489,26,444,38,402,56,360,82,317,116,270,159,232,204,200,255,175,309,155,363,129,460,118,524"/>
<area shape="rect" href="classTCPServer.html#a6d824f4302f15bbd2c7c8b754d1a51dd" title="Get current time in milliseconds." alt="" coords="284,449,483,474"/>
<area shape="poly" title=" " alt="" coords="150,521,267,484,306,475,307,480,269,490,151,526"/>
<area shape="rect" href="classSessionManager.html#a0c52e8605801fc4e98c84b724ec72c09" title="Fetch the lobby code for a player." alt="" coords="268,498,499,524"/>
<area shape="poly" title=" " alt="" coords="220,524,254,520,255,526,221,529"/>
<area shape="rect" href="classSessionManager.html#a3d137db5b62fdb63340d7b92b8eb371f" title="Fetch the player&#39;s pseudo." alt="" coords="281,548,486,573"/>
<area shape="poly" title=" " alt="" coords="221,543,267,547,267,553,220,548"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="273,277,494,302"/>
<area shape="poly" title=" " alt="" coords="125,521,266,386,354,309,358,313,270,390,129,525"/>
<area shape="rect" href="classTCPServer.html#a13efa1ebda8d0f4c99eae65d6b012b75" title="Build a packet carrying a simple integer id." alt="" coords="290,597,477,622"/>
<area shape="poly" title=" " alt="" coords="151,547,269,583,304,591,302,597,267,588,150,552"/>
<area shape="rect" href="classTCPServer.html#a35b89efbda16dd8af6b7ff45b6da036d" title="Build a packet carrying a string payload." alt="" coords="277,646,489,672"/>
<area shape="poly" title=" " alt="" coords="131,547,190,589,228,613,269,632,290,640,289,645,267,637,226,617,187,594,128,551"/>
<area shape="rect" href="classTCPServer.html#ae9543e5003c04975a7e06a9bb85c7723" title="Receive and parse a packet from a client socket." alt="" coords="290,696,477,721"/>
<area shape="poly" title=" " alt="" coords="125,547,181,613,222,650,269,682,284,689,282,693,267,687,219,655,177,616,121,551"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="300,400,467,425"/>
<area shape="poly" title=" " alt="" coords="128,521,187,479,226,455,267,435,293,426,295,431,269,440,228,460,190,483,131,526"/>
<area shape="rect" href="classSessionManager.html#a84b313bdbfecb70d12707d77f357bca8" title="Store the player&#39;s pseudo." alt="" coords="281,745,485,770"/>
<area shape="poly" title=" " alt="" coords="122,548,142,585,174,635,217,688,242,711,269,731,280,737,278,742,267,736,239,715,213,692,170,639,138,588,118,551"/>
<area shape="rect" href="classSessionManager.html#ac233a47eaa6ca5e9b69e0cb8cd377358" title="Update last PONG time for heartbeat checks." alt="" coords="276,794,491,820"/>
<area shape="poly" title=" " alt="" coords="120,548,137,593,167,657,211,724,239,755,270,781,278,786,275,791,266,785,235,759,207,728,162,660,132,595,115,550"/>
<area shape="poly" title=" " alt="" coords="1558,72,1672,94,1671,100,1557,77"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="1897,76,2039,101"/>
<area shape="poly" title=" " alt="" coords="1835,100,1883,95,1883,100,1836,106"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="1895,125,2041,150"/>
<area shape="poly" title=" " alt="" coords="1836,119,1881,125,1881,130,1835,125"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="2099,76,2225,101"/>
<area shape="poly" title=" " alt="" coords="2039,86,2085,86,2085,91,2039,91"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="2089,125,2235,150"/>
<area shape="poly" title=" " alt="" coords="2042,135,2075,135,2075,140,2042,140"/>
<area shape="poly" title=" " alt="" coords="416,274,504,243,631,205,704,188,780,174,858,164,935,160,1215,160,1411,155,1606,134,1668,125,1669,130,1607,139,1411,160,1215,166,935,166,858,169,781,179,705,193,632,210,506,248,418,279"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="571,453,749,478"/>
<area shape="poly" title=" " alt="" coords="406,300,629,443,626,448,403,305"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="1123,252,1304,277"/>
<area shape="poly" title=" " alt="" coords="494,284,1109,265,1109,270,494,289"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="1396,200,1587,240"/>
<area shape="poly" title=" " alt="" coords="447,274,546,259,780,239,1012,227,1382,218,1382,223,1012,232,780,244,547,264,448,280"/>
<area shape="rect" href="classTCPServer.html#aee3fb51b52375d68f548f60cc7005ef0" title="Notify all clients of a newly connected player." alt="" coords="1376,100,1607,125"/>
<area shape="poly" title=" " alt="" coords="392,275,415,246,450,208,495,171,546,142,613,123,703,110,809,102,925,97,1161,97,1362,103,1362,109,1161,103,925,103,810,107,704,115,615,128,548,147,498,175,454,212,419,249,396,278"/>
<area shape="rect" href="classTCPServer.html#a063b685012f0cd7b069ad82dbffcb95f" title="Generate a random lobby code (6 chars alnum)." alt="" coords="547,302,773,328"/>
<area shape="poly" title=" " alt="" coords="494,297,533,301,533,306,494,302"/>
<area shape="rect" href="classTCPServer.html#ae45d63761257c84a68a96c24541c13e4" title=" " alt="" coords="553,352,767,377"/>
<area shape="poly" title=" " alt="" coords="423,300,547,338,582,346,581,351,546,343,422,305"/>
<area shape="rect" href="classTCPServer.html#a30203c2836aa52676f3e6205d8730943" title=" " alt="" coords="821,508,1051,533"/>
<area shape="poly" title=" " alt="" coords="725,476,858,502,857,508,724,481"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="827,392,1045,417"/>
<area shape="poly" title=" " alt="" coords="717,450,864,417,866,422,719,455"/>
<area shape="rect" href="classSessionManager.html#a8023cf136e039298b1e2ba5fe7cb224b" title="Store the lobby code for a player." alt="" coords="1099,388,1328,413"/>
<area shape="poly" title=" " alt="" coords="749,457,890,445,1050,427,1136,413,1137,418,1051,432,891,450,749,462"/>
<area shape="rect" href="classChildProcessManager.html#af9be1ce64da7e05952b231b22df221a0" title=" " alt="" coords="1132,502,1295,542"/>
<area shape="poly" title=" " alt="" coords="1051,518,1118,518,1118,524,1051,523"/>
<area shape="rect" href="classTCPServer.html#a25273652d6d80037ec5bcad8725bd269" title=" " alt="" coords="1126,566,1301,592"/>
<area shape="poly" title=" " alt="" coords="997,530,1140,561,1139,566,996,536"/>
<area shape="rect" href="classChildProcessManager.html#a3b7c34be0f81b8a841d4ecd28a837bf6" title=" " alt="" coords="1132,616,1295,656"/>
<area shape="poly" title=" " alt="" coords="1024,531,1052,543,1068,558,1077,573,1085,588,1100,602,1121,613,1118,618,1097,606,1081,591,1073,576,1064,561,1049,548,1022,535"/>
<area shape="rect" href="classChildProcessManager.html#a138e2d098e92a2c6d1ad7b35dadd6541" title="Spawn a UDP game server process." alt="" coords="1132,438,1295,478"/>
<area shape="poly" title=" " alt="" coords="992,505,1118,476,1119,482,994,510"/>
<area shape="poly" title=" " alt="" coords="961,389,1174,281,1176,286,963,394"/>
<area shape="poly" title=" " alt="" coords="1045,400,1085,399,1085,405,1046,405"/>
<area shape="poly" title=" " alt="" coords="1294,249,1382,235,1383,240,1294,254"/>
<area shape="poly" title=" " alt="" coords="1556,198,1606,179,1712,129,1715,134,1608,184,1557,203"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="1655,200,1847,240"/>
<area shape="poly" title=" " alt="" coords="1587,218,1641,218,1641,223,1587,223"/>
<area shape="poly" title=" " alt="" coords="1607,110,1652,110,1652,115,1607,115"/>
<area shape="rect" href="namespaceProtocol.html#ad768525ca5f0324a5f414440e67679b6" title="Append newly read bytes then attempt extraction." alt="" coords="569,693,751,718"/>
<area shape="poly" title=" " alt="" coords="477,705,555,704,555,709,477,710"/>
<area shape="rect" href="classTCPServer.html#a00011973e407cab03dde7c74a4c65949" title="Read raw bytes from a socket fd." alt="" coords="589,742,731,768"/>
<area shape="poly" title=" " alt="" coords="460,718,576,738,575,743,459,724"/>
<area shape="rect" href="namespaceProtocol.html#a10005c44787f8de2a0e42d395aff8baa" title="Try to extract a complete packet from an accumulated stream buffer." alt="" coords="835,693,1037,718"/>
<area shape="poly" title=" " alt="" coords="752,703,821,703,821,708,752,708"/>
<area shape="rect" href="classPacket.html#abfcd427a2ca434ac71592334517638fb" title="Deserialize a packet from a raw byte buffer." alt="" coords="1142,693,1285,718"/>
<area shape="poly" title=" " alt="" coords="1037,703,1128,703,1128,708,1037,708"/>
<area shape="poly" title=" " alt="" coords="467,408,813,403,813,409,467,414"/>
<area shape="rect" href="classTCPServer.html#aa6089a11e438f73bfc614c44f86e5d75" title="Close and invalidate a file descriptor." alt="" coords="587,557,733,582"/>
<area shape="poly" title=" " alt="" coords="468,419,500,435,513,448,520,461,526,488,531,514,537,526,548,538,575,554,573,558,545,542,533,529,526,516,520,489,515,463,508,451,497,440,465,423"/>
<area shape="rect" href="classSessionManager.html#a8916c4ee701635dd8b2ee525331efb0b" title="Remove a session by player id." alt="" coords="552,502,768,528"/>
<area shape="poly" title=" " alt="" coords="468,422,500,435,516,449,525,463,533,476,548,489,561,495,558,500,545,493,529,480,520,466,512,452,497,440,466,426"/>
<area shape="rect" href="classTCPServer.html#a2595c03eed6bf37e098e619e6751a3d4" title="Close a raw fd without resetting the caller&#39;s variable." alt="" coords="849,557,1023,582"/>
<area shape="poly" title=" " alt="" coords="734,567,835,567,835,572,734,572"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_ada05a61182a782b4d3326fabd26a19bf_icgraph.png" border="0" usemap="#aclassTCPServer_ada05a61182a782b4d3326fabd26a19bf_icgraph" alt=""/></div>
<map name="aclassTCPServer_ada05a61182a782b4d3326fabd26a19bf_icgraph" id="aclassTCPServer_ada05a61182a782b4d3326fabd26a19bf_icgraph">
<area shape="rect" title="Read and handle data for a single client." alt="" coords="273,5,488,31"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,225,21,225,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a2a03b7479e884f287b5a88df03eeb17b" name="a2a03b7479e884f287b5a88df03eeb17b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a03b7479e884f287b5a88df03eeb17b">&#9670;&#160;</a></span>processIpcMessages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::processIpcMessages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00377">377</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00235">_childMgr</a>, <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, <a class="el" href="TCPServer_8hpp_source.html#l00233">_lobbies</a>, <a class="el" href="TCPServer_8cpp_source.html#l00079">broadcastToLobby()</a>, <a class="el" href="ChildProcessManager_8cpp_source.html#l00124">ChildProcessManager::forget()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00060">makeStringPacket()</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56a90791ed805bd5b00d78527d39d9ef7e4">MESSAGE</a>, <a class="el" href="TCPServer_8cpp_source.html#l00620">removeFromLobby()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00088">sendPacket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00446">run()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a2a03b7479e884f287b5a88df03eeb17b_cgraph.png" border="0" usemap="#aclassTCPServer_a2a03b7479e884f287b5a88df03eeb17b_cgraph" alt=""/></div>
<map name="aclassTCPServer_a2a03b7479e884f287b5a88df03eeb17b_cgraph" id="aclassTCPServer_a2a03b7479e884f287b5a88df03eeb17b_cgraph">
<area shape="rect" title=" " alt="" coords="5,113,236,139"/>
<area shape="rect" href="classTCPServer.html#afb22938cbabd280ec30b3ffab25aeb56" title=" " alt="" coords="828,5,1041,31"/>
<area shape="poly" title=" " alt="" coords="141,111,203,77,242,61,283,47,353,33,424,21,567,9,701,5,814,8,814,13,701,10,567,14,425,27,354,38,285,53,244,66,205,82,144,116"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="1101,56,1270,81"/>
<area shape="poly" title=" " alt="" coords="174,111,284,91,509,73,733,64,933,62,1087,63,1087,69,933,67,733,69,509,78,284,97,175,116"/>
<area shape="rect" href="classChildProcessManager.html#ad5e9300f230cd2aa806b8b2f91c40939" title="Remove tracking info (does not kill)." alt="" coords="312,106,475,146"/>
<area shape="poly" title=" " alt="" coords="236,123,298,123,298,129,236,129"/>
<area shape="rect" href="classTCPServer.html#a35b89efbda16dd8af6b7ff45b6da036d" title="Build a packet carrying a string payload." alt="" coords="287,171,499,196"/>
<area shape="poly" title=" " alt="" coords="182,136,319,165,318,170,181,141"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="284,220,503,245"/>
<area shape="poly" title=" " alt="" coords="144,136,206,171,285,206,310,214,308,219,283,211,204,176,141,141"/>
<area shape="poly" title=" " alt="" coords="999,28,1109,51,1108,56,998,33"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="1331,32,1474,57"/>
<area shape="poly" title=" " alt="" coords="1270,57,1317,51,1318,57,1271,62"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="1329,81,1476,107"/>
<area shape="poly" title=" " alt="" coords="1271,76,1316,81,1315,87,1270,81"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="1533,32,1660,57"/>
<area shape="poly" title=" " alt="" coords="1474,42,1519,42,1519,47,1474,47"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="1524,81,1669,107"/>
<area shape="poly" title=" " alt="" coords="1476,91,1510,91,1510,97,1476,97"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="575,156,756,181"/>
<area shape="poly" title=" " alt="" coords="452,217,502,206,600,182,601,187,503,211,454,223"/>
<area shape="rect" href="classSessionManager.html#a8023cf136e039298b1e2ba5fe7cb224b" title="Store the lobby code for a player." alt="" coords="551,220,780,245"/>
<area shape="poly" title=" " alt="" coords="503,230,537,230,537,235,503,235"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="839,121,1030,161"/>
<area shape="poly" title=" " alt="" coords="756,157,825,149,826,155,756,162"/>
<area shape="poly" title=" " alt="" coords="1004,118,1127,83,1128,88,1006,123"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="1089,121,1281,161"/>
<area shape="poly" title=" " alt="" coords="1030,138,1075,138,1075,143,1030,143"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a2a03b7479e884f287b5a88df03eeb17b_icgraph.png" border="0" usemap="#aclassTCPServer_a2a03b7479e884f287b5a88df03eeb17b_icgraph" alt=""/></div>
<map name="aclassTCPServer_a2a03b7479e884f287b5a88df03eeb17b_icgraph" id="aclassTCPServer_a2a03b7479e884f287b5a88df03eeb17b_icgraph">
<area shape="rect" title=" " alt="" coords="273,5,504,31"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,226,21,226,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a00011973e407cab03dde7c74a4c65949" name="a00011973e407cab03dde7c74a4c65949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00011973e407cab03dde7c74a4c65949">&#9670;&#160;</a></span>readFd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t TCPServer::readFd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read raw bytes from a socket fd. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00522">522</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00102">receivePacket()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a00011973e407cab03dde7c74a4c65949_icgraph.png" border="0" usemap="#aclassTCPServer_a00011973e407cab03dde7c74a4c65949_icgraph" alt=""/></div>
<map name="aclassTCPServer_a00011973e407cab03dde7c74a4c65949_icgraph" id="aclassTCPServer_a00011973e407cab03dde7c74a4c65949_icgraph">
<area shape="rect" title="Read raw bytes from a socket fd." alt="" coords="771,5,912,31"/>
<area shape="rect" href="classTCPServer.html#ae9543e5003c04975a7e06a9bb85c7723" title="Receive and parse a packet from a client socket." alt="" coords="536,5,723,31"/>
<area shape="poly" title=" " alt="" coords="757,21,723,21,723,15,757,15"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,5,488,31"/>
<area shape="poly" title=" " alt="" coords="522,21,488,21,488,15,522,15"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,225,21,225,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="ae9543e5003c04975a7e06a9bb85c7723" name="ae9543e5003c04975a7e06a9bb85c7723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9543e5003c04975a7e06a9bb85c7723">&#9670;&#160;</a></span>receivePacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581c">TCPServer::RecvResult</a> TCPServer::receivePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPacket.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Receive and parse a packet from a client socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td><a class="el" href="structTCPServer_1_1Client.html" title="Lightweight representation of a connected client.">Client</a> socket. </td></tr>
    <tr><td class="paramname">packet</td><td>Output parsed packet. </td></tr>
    <tr><td class="paramname">buffer</td><td>Receive buffer for reassembly. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00102">102</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00024">BUFFER_SIZE</a>, <a class="el" href="Protocol_8cpp_source.html#l00046">Protocol::consumeChunk()</a>, <a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581caef70e46fd3bbc21e3e1f0b6815e750c0">Disconnected</a>, <a class="el" href="namespaceProtocol.html#aea1c7a72f2ed431c5d37b060c8cdb780a4307e7e7986aa21a4b7c3ef2b5e948f6">Protocol::Incomplete</a>, <a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581ca4307e7e7986aa21a4b7c3ef2b5e948f6">Incomplete</a>, <a class="el" href="ISocket_8hpp_source.html#l00045">INVALID_SOCKET_FD</a>, <a class="el" href="namespaceProtocol.html#aea1c7a72f2ed431c5d37b060c8cdb780aa60852f204ed8028c1c58808b746d115">Protocol::Ok</a>, <a class="el" href="classTCPServer.html#a71488db7399ea324f5efe8064e24581caa60852f204ed8028c1c58808b746d115">Ok</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00522">readFd()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00203">processClientData()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_ae9543e5003c04975a7e06a9bb85c7723_cgraph.png" border="0" usemap="#aclassTCPServer_ae9543e5003c04975a7e06a9bb85c7723_cgraph" alt=""/></div>
<map name="aclassTCPServer_ae9543e5003c04975a7e06a9bb85c7723_cgraph" id="aclassTCPServer_ae9543e5003c04975a7e06a9bb85c7723_cgraph">
<area shape="rect" title="Receive and parse a packet from a client socket." alt="" coords="5,31,192,56"/>
<area shape="rect" href="namespaceProtocol.html#ad768525ca5f0324a5f414440e67679b6" title="Append newly read bytes then attempt extraction." alt="" coords="240,5,423,31"/>
<area shape="poly" title=" " alt="" coords="192,31,226,27,227,32,193,36"/>
<area shape="rect" href="classTCPServer.html#a00011973e407cab03dde7c74a4c65949" title="Read raw bytes from a socket fd." alt="" coords="261,55,402,80"/>
<area shape="poly" title=" " alt="" coords="193,50,247,56,247,61,192,56"/>
<area shape="rect" href="namespaceProtocol.html#a10005c44787f8de2a0e42d395aff8baa" title="Try to extract a complete packet from an accumulated stream buffer." alt="" coords="471,5,672,31"/>
<area shape="poly" title=" " alt="" coords="423,15,457,15,457,21,423,21"/>
<area shape="rect" href="classPacket.html#abfcd427a2ca434ac71592334517638fb" title="Deserialize a packet from a raw byte buffer." alt="" coords="720,5,863,31"/>
<area shape="poly" title=" " alt="" coords="672,15,706,15,706,21,672,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_ae9543e5003c04975a7e06a9bb85c7723_icgraph.png" border="0" usemap="#aclassTCPServer_ae9543e5003c04975a7e06a9bb85c7723_icgraph" alt=""/></div>
<map name="aclassTCPServer_ae9543e5003c04975a7e06a9bb85c7723_icgraph" id="aclassTCPServer_ae9543e5003c04975a7e06a9bb85c7723_icgraph">
<area shape="rect" title="Receive and parse a packet from a client socket." alt="" coords="536,5,723,31"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,5,488,31"/>
<area shape="poly" title=" " alt="" coords="522,21,488,21,488,15,522,15"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,225,21,225,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a8d2dcfc8d8337ff577a101c4aee6aac5" name="a8d2dcfc8d8337ff577a101c4aee6aac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d2dcfc8d8337ff577a101c4aee6aac5">&#9670;&#160;</a></span>refreshLobby()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::refreshLobby </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resend the player list to all members of a lobby. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00596">596</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00572">sendPlayerListToClient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00702">handleLobbyPacket()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00620">removeFromLobby()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a8d2dcfc8d8337ff577a101c4aee6aac5_cgraph.png" border="0" usemap="#aclassTCPServer_a8d2dcfc8d8337ff577a101c4aee6aac5_cgraph" alt=""/></div>
<map name="aclassTCPServer_a8d2dcfc8d8337ff577a101c4aee6aac5_cgraph" id="aclassTCPServer_a8d2dcfc8d8337ff577a101c4aee6aac5_cgraph">
<area shape="rect" title="Resend the player list to all members of a lobby." alt="" coords="5,42,187,67"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="235,35,425,75"/>
<area shape="poly" title=" " alt="" coords="187,52,221,52,221,57,187,57"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="473,5,665,45"/>
<area shape="poly" title=" " alt="" coords="425,40,459,36,460,41,426,46"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="485,70,654,95"/>
<area shape="poly" title=" " alt="" coords="426,63,471,69,471,74,425,68"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="715,45,858,70"/>
<area shape="poly" title=" " alt="" coords="654,70,701,65,702,70,655,75"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="713,94,860,119"/>
<area shape="poly" title=" " alt="" coords="655,89,700,94,699,100,654,95"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="917,45,1044,70"/>
<area shape="poly" title=" " alt="" coords="858,55,903,55,903,60,858,60"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="908,94,1053,119"/>
<area shape="poly" title=" " alt="" coords="860,104,894,104,894,109,860,109"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a8d2dcfc8d8337ff577a101c4aee6aac5_icgraph.png" border="0" usemap="#aclassTCPServer_a8d2dcfc8d8337ff577a101c4aee6aac5_icgraph" alt=""/></div>
<map name="aclassTCPServer_a8d2dcfc8d8337ff577a101c4aee6aac5_icgraph" id="aclassTCPServer_a8d2dcfc8d8337ff577a101c4aee6aac5_icgraph">
<area shape="rect" title="Resend the player list to all members of a lobby." alt="" coords="1351,53,1532,79"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,5,757,31"/>
<area shape="poly" title=" " alt="" coords="1336,62,758,27,758,22,1337,57"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="1084,79,1303,104"/>
<area shape="poly" title=" " alt="" coords="1337,79,1303,83,1303,78,1337,74"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,5,488,31"/>
<area shape="poly" title=" " alt="" coords="523,21,488,21,488,15,523,15"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,55,225,80"/>
<area shape="poly" title=" " alt="" coords="312,36,223,57,222,52,311,31"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="94,70,60,70,60,65,94,65"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="832,53,1009,79"/>
<area shape="poly" title=" " alt="" coords="1070,83,1009,77,1010,72,1071,77"/>
<area shape="rect" href="classTCPServer.html#a2a03b7479e884f287b5a88df03eeb17b" title=" " alt="" coords="805,155,1036,180"/>
<area shape="poly" title=" " alt="" coords="1135,110,1037,138,968,157,967,152,1035,133,1133,105"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="563,104,730,129"/>
<area shape="poly" title=" " alt="" coords="1070,100,730,116,730,110,1070,94"/>
<area shape="poly" title=" " alt="" coords="834,54,720,33,721,28,835,48"/>
<area shape="rect" href="classTCPServer.html#ad6bed785945fc2f21376ff2b58090829" title="Auto&#45;match the client into a public lobby." alt="" coords="543,55,750,80"/>
<area shape="poly" title=" " alt="" coords="818,69,750,69,750,64,818,64"/>
<area shape="poly" title=" " alt="" coords="811,184,697,192,561,192,488,188,415,179,342,164,272,145,244,132,218,115,179,82,183,78,221,111,247,127,274,139,344,159,416,173,489,182,561,187,697,187,811,179"/>
<area shape="poly" title=" " alt="" coords="549,102,535,95,519,83,510,70,501,57,487,46,458,33,460,28,489,41,505,54,514,67,523,79,537,90,551,97"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="281,55,480,80"/>
<area shape="poly" title=" " alt="" coords="564,104,450,83,451,77,565,99"/>
<area shape="rect" href="classTCPServer.html#abc497ac52355e53986a6a1bd1acb9581" title="Destroy the TCPServer, closing the listening socket." alt="" coords="294,104,467,129"/>
<area shape="poly" title=" " alt="" coords="550,119,468,119,468,114,550,114"/>
<area shape="poly" title=" " alt="" coords="268,70,226,70,226,65,268,65"/>
</map>
</div>

</div>
</div>
<a id="a508cc3d7023b0cfe9abed2e3166b1682" name="a508cc3d7023b0cfe9abed2e3166b1682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a508cc3d7023b0cfe9abed2e3166b1682">&#9670;&#160;</a></span>removeFromLobby()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::removeFromLobby </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a client from its current lobby. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00620">620</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00234">_clientLobby</a>, <a class="el" href="TCPServer_8hpp_source.html#l00233">_lobbies</a>, <a class="el" href="TCPServer_8hpp_source.html#l00225">_sessions</a>, <a class="el" href="TCPServer_8hpp_source.html#l00057">TCPServer::Client::id</a>, <a class="el" href="TCPServer_8hpp_source.html#l00063">TCPServer::Client::lobbyCode</a>, <a class="el" href="TCPServer_8cpp_source.html#l00596">refreshLobby()</a>, and <a class="el" href="SessionManager_8cpp_source.html#l00079">SessionManager::setLobbyCode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00669">assignLobby()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00377">processIpcMessages()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00142">resetClient()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a508cc3d7023b0cfe9abed2e3166b1682_cgraph.png" border="0" usemap="#aclassTCPServer_a508cc3d7023b0cfe9abed2e3166b1682_cgraph" alt=""/></div>
<map name="aclassTCPServer_a508cc3d7023b0cfe9abed2e3166b1682_cgraph" id="aclassTCPServer_a508cc3d7023b0cfe9abed2e3166b1682_cgraph">
<area shape="rect" title="Remove a client from its current lobby." alt="" coords="5,67,224,93"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="296,42,477,67"/>
<area shape="poly" title=" " alt="" coords="224,67,282,62,282,67,225,72"/>
<area shape="rect" href="classSessionManager.html#a8023cf136e039298b1e2ba5fe7cb224b" title="Store the lobby code for a player." alt="" coords="272,91,501,117"/>
<area shape="poly" title=" " alt="" coords="225,87,259,90,258,95,224,92"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="549,35,740,75"/>
<area shape="poly" title=" " alt="" coords="478,52,535,52,535,57,478,57"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="788,5,980,45"/>
<area shape="poly" title=" " alt="" coords="740,40,774,36,775,41,741,46"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="799,70,969,95"/>
<area shape="poly" title=" " alt="" coords="741,63,786,69,785,74,740,68"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="1030,45,1173,70"/>
<area shape="poly" title=" " alt="" coords="969,70,1016,65,1017,70,969,75"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="1028,94,1175,119"/>
<area shape="poly" title=" " alt="" coords="969,89,1015,94,1014,100,969,95"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="1232,45,1359,70"/>
<area shape="poly" title=" " alt="" coords="1173,55,1218,55,1218,60,1173,60"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="1223,94,1368,119"/>
<area shape="poly" title=" " alt="" coords="1175,104,1209,104,1209,109,1175,109"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a508cc3d7023b0cfe9abed2e3166b1682_icgraph.png" border="0" usemap="#aclassTCPServer_a508cc3d7023b0cfe9abed2e3166b1682_icgraph" alt=""/></div>
<map name="aclassTCPServer_a508cc3d7023b0cfe9abed2e3166b1682_icgraph" id="aclassTCPServer_a508cc3d7023b0cfe9abed2e3166b1682_icgraph">
<area shape="rect" title="Remove a client from its current lobby." alt="" coords="1084,105,1303,131"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="832,55,1009,80"/>
<area shape="poly" title=" " alt="" coords="1110,105,989,83,990,77,1111,100"/>
<area shape="rect" href="classTCPServer.html#a2a03b7479e884f287b5a88df03eeb17b" title=" " alt="" coords="805,180,1036,205"/>
<area shape="poly" title=" " alt="" coords="1133,137,969,183,967,177,1131,132"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="563,104,730,129"/>
<area shape="poly" title=" " alt="" coords="1070,120,730,120,730,114,1070,115"/>
<area shape="rect" href="classTCPServer.html#ad6bed785945fc2f21376ff2b58090829" title="Auto&#45;match the client into a public lobby." alt="" coords="543,5,750,31"/>
<area shape="poly" title=" " alt="" coords="835,55,718,33,719,28,836,50"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,55,757,80"/>
<area shape="poly" title=" " alt="" coords="818,70,758,70,758,65,818,65"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,55,488,80"/>
<area shape="poly" title=" " alt="" coords="523,70,488,70,488,65,523,65"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,104,225,129"/>
<area shape="poly" title=" " alt="" coords="310,86,274,94,221,106,220,101,273,89,309,80"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="94,119,60,119,60,114,94,114"/>
<area shape="poly" title=" " alt="" coords="840,210,726,225,583,233,506,232,427,226,348,213,272,194,244,181,218,165,179,132,183,128,221,161,247,177,274,189,349,208,427,220,506,227,583,228,726,220,839,205"/>
<area shape="poly" title=" " alt="" coords="564,104,450,83,451,77,565,99"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="281,104,480,129"/>
<area shape="poly" title=" " alt="" coords="549,119,480,119,480,114,549,114"/>
<area shape="rect" href="classTCPServer.html#abc497ac52355e53986a6a1bd1acb9581" title="Destroy the TCPServer, closing the listening socket." alt="" coords="294,153,467,179"/>
<area shape="poly" title=" " alt="" coords="565,134,451,156,450,151,564,129"/>
<area shape="poly" title=" " alt="" coords="268,119,226,119,226,114,268,114"/>
</map>
</div>

</div>
</div>
<a id="a435ec8dcd340e15f964ce3c0748c7305" name="a435ec8dcd340e15f964ce3c0748c7305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a435ec8dcd340e15f964ce3c0748c7305">&#9670;&#160;</a></span>resetClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::resetClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset client fields and close its socket. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00142">142</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00225">_sessions</a>, <a class="el" href="TCPServer_8hpp_source.html#l00059">TCPServer::Client::addr</a>, <a class="el" href="TCPServer_8cpp_source.html#l00134">closeFd()</a>, <a class="el" href="TCPServer_8hpp_source.html#l00058">TCPServer::Client::fd</a>, <a class="el" href="TCPServer_8hpp_source.html#l00060">TCPServer::Client::handshakeDone</a>, <a class="el" href="TCPServer_8hpp_source.html#l00062">TCPServer::Client::handshakeStart</a>, <a class="el" href="TCPServer_8hpp_source.html#l00068">TCPServer::Client::hp</a>, <a class="el" href="TCPServer_8hpp_source.html#l00057">TCPServer::Client::id</a>, <a class="el" href="TCPServer_8hpp_source.html#l00061">TCPServer::Client::lastPongTime</a>, <a class="el" href="TCPServer_8hpp_source.html#l00063">TCPServer::Client::lobbyCode</a>, <a class="el" href="TCPServer_8hpp_source.html#l00066">TCPServer::Client::posX</a>, <a class="el" href="TCPServer_8hpp_source.html#l00067">TCPServer::Client::posY</a>, <a class="el" href="TCPServer_8hpp_source.html#l00064">TCPServer::Client::pseudo</a>, <a class="el" href="TCPServer_8hpp_source.html#l00069">TCPServer::Client::recvBuffer</a>, <a class="el" href="SessionManager_8cpp_source.html#l00022">SessionManager::removeById()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00620">removeFromLobby()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00351">checkHeartbeat()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00203">processClientData()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00052">~TCPServer()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a435ec8dcd340e15f964ce3c0748c7305_cgraph.png" border="0" usemap="#aclassTCPServer_a435ec8dcd340e15f964ce3c0748c7305_cgraph" alt=""/></div>
<map name="aclassTCPServer_a435ec8dcd340e15f964ce3c0748c7305_cgraph" id="aclassTCPServer_a435ec8dcd340e15f964ce3c0748c7305_cgraph">
<area shape="rect" title="Reset client fields and close its socket." alt="" coords="5,55,172,80"/>
<area shape="rect" href="classTCPServer.html#aa6089a11e438f73bfc614c44f86e5d75" title="Close and invalidate a file descriptor." alt="" coords="256,5,403,31"/>
<area shape="poly" title=" " alt="" coords="151,52,253,31,254,36,152,57"/>
<area shape="rect" href="classSessionManager.html#a8916c4ee701635dd8b2ee525331efb0b" title="Remove a session by player id." alt="" coords="221,55,437,80"/>
<area shape="poly" title=" " alt="" coords="172,65,208,65,208,70,172,70"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="220,104,439,129"/>
<area shape="poly" title=" " alt="" coords="152,77,254,99,253,104,151,83"/>
<area shape="rect" href="classTCPServer.html#a2595c03eed6bf37e098e619e6751a3d4" title="Close a raw fd without resetting the caller&#39;s variable." alt="" coords="514,5,689,31"/>
<area shape="poly" title=" " alt="" coords="403,15,500,15,500,21,403,21"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="511,79,692,104"/>
<area shape="poly" title=" " alt="" coords="439,104,497,98,497,104,439,109"/>
<area shape="rect" href="classSessionManager.html#a8023cf136e039298b1e2ba5fe7cb224b" title="Store the lobby code for a player." alt="" coords="487,128,716,153"/>
<area shape="poly" title=" " alt="" coords="439,124,473,127,473,132,439,129"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="764,71,955,111"/>
<area shape="poly" title=" " alt="" coords="692,89,750,89,750,94,692,94"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="1003,42,1195,82"/>
<area shape="poly" title=" " alt="" coords="955,77,989,73,989,78,955,82"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="1014,107,1183,132"/>
<area shape="poly" title=" " alt="" coords="955,100,1001,105,1000,110,955,105"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="1245,81,1387,107"/>
<area shape="poly" title=" " alt="" coords="1183,107,1231,101,1231,107,1184,112"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="1243,131,1389,156"/>
<area shape="poly" title=" " alt="" coords="1184,126,1229,131,1229,136,1183,131"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="1447,81,1573,107"/>
<area shape="poly" title=" " alt="" coords="1387,91,1433,91,1433,97,1387,97"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="1437,131,1583,156"/>
<area shape="poly" title=" " alt="" coords="1390,141,1423,141,1423,146,1390,146"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a435ec8dcd340e15f964ce3c0748c7305_icgraph.png" border="0" usemap="#aclassTCPServer_a435ec8dcd340e15f964ce3c0748c7305_icgraph" alt=""/></div>
<map name="aclassTCPServer_a435ec8dcd340e15f964ce3c0748c7305_icgraph" id="aclassTCPServer_a435ec8dcd340e15f964ce3c0748c7305_icgraph">
<area shape="rect" title="Reset client fields and close its socket." alt="" coords="536,55,703,80"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="281,5,480,31"/>
<area shape="poly" title=" " alt="" coords="544,54,442,33,444,28,545,49"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,55,488,80"/>
<area shape="poly" title=" " alt="" coords="522,70,488,70,488,65,522,65"/>
<area shape="rect" href="classTCPServer.html#abc497ac52355e53986a6a1bd1acb9581" title="Destroy the TCPServer, closing the listening socket." alt="" coords="294,104,467,129"/>
<area shape="poly" title=" " alt="" coords="545,85,444,107,442,101,544,80"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,31,225,56"/>
<area shape="poly" title=" " alt="" coords="268,34,226,39,225,34,267,29"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,31,60,56"/>
<area shape="poly" title=" " alt="" coords="94,46,60,46,60,41,94,41"/>
<area shape="poly" title=" " alt="" coords="259,56,225,52,226,47,260,51"/>
</map>
</div>

</div>
</div>
<a id="a4e6d2ef05b71c4ecbd0518fc7215ece3" name="a4e6d2ef05b71c4ecbd0518fc7215ece3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e6d2ef05b71c4ecbd0518fc7215ece3">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the main accept/receive loop (blocking). </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00446">446</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, <a class="el" href="TCPServer_8hpp_source.html#l00233">_lobbies</a>, <a class="el" href="TCPServer_8hpp_source.html#l00222">_serverSocket</a>, <a class="el" href="TCPServer_8cpp_source.html#l00165">acceptNewClient()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00351">checkHeartbeat()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00334">getCurrentTime()</a>, <a class="el" href="ASocket_8hpp_source.html#l00037">Network::TransportLayer::ASocket::getSocketFd()</a>, <a class="el" href="ISocket_8hpp_source.html#l00045">INVALID_SOCKET_FD</a>, <a class="el" href="TCPServer_8cpp_source.html#l00160">pollSockets()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00203">processClientData()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00377">processIpcMessages()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00341">sendPingToAll()</a>.</p>

<p class="reference">Referenced by <a class="el" href="server_8cpp_source.html#l00016">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a4e6d2ef05b71c4ecbd0518fc7215ece3_cgraph.png" border="0" usemap="#aclassTCPServer_a4e6d2ef05b71c4ecbd0518fc7215ece3_cgraph" alt=""/></div>
<map name="aclassTCPServer_a4e6d2ef05b71c4ecbd0518fc7215ece3_cgraph" id="aclassTCPServer_a4e6d2ef05b71c4ecbd0518fc7215ece3_cgraph">
<area shape="rect" title="Run the main accept/receive loop (blocking)." alt="" coords="5,512,123,537"/>
<area shape="rect" href="classTCPServer.html#ae0e94f8d712b3c9028fe674100d649b9" title="Accept incoming connection and register a new client slot." alt="" coords="183,221,389,247"/>
<area shape="poly" title=" " alt="" coords="73,510,265,256,269,259,77,513"/>
<area shape="rect" href="classTCPServer.html#a6d824f4302f15bbd2c7c8b754d1a51dd" title="Get current time in milliseconds." alt="" coords="465,487,664,512"/>
<area shape="poly" title=" " alt="" coords="123,519,452,502,452,508,123,524"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="187,537,385,563"/>
<area shape="poly" title=" " alt="" coords="123,529,173,534,172,540,123,534"/>
<area shape="rect" href="classNetwork_1_1TransportLayer_1_1ASocket.html#a65e51ed926d1ef000bf854a8e7fcd474" title="Get the underlying socket file descriptor." alt="" coords="195,763,377,803"/>
<area shape="poly" title=" " alt="" coords="70,537,79,578,98,636,128,697,149,725,172,749,185,758,181,762,169,753,144,728,124,700,93,638,74,580,65,538"/>
<area shape="rect" href="classTCPServer.html#a5e77543739e5b801384f9fe3e63c2bf8" title="Poll all sockets using select()." alt="" coords="201,968,371,993"/>
<area shape="poly" title=" " alt="" coords="71,537,107,653,137,734,173,814,222,893,268,956,263,959,217,896,168,817,132,736,102,655,66,539"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="179,713,393,739"/>
<area shape="poly" title=" " alt="" coords="82,536,262,702,259,706,78,540"/>
<area shape="rect" href="classTCPServer.html#a2a03b7479e884f287b5a88df03eeb17b" title=" " alt="" coords="171,411,401,436"/>
<area shape="poly" title=" " alt="" coords="92,509,244,439,246,444,94,514"/>
<area shape="rect" href="classTCPServer.html#a1ef2aa5cce99901889e64fce86fbac33" title="Send a ping packet to every connected client." alt="" coords="1579,5,1766,31"/>
<area shape="poly" title=" " alt="" coords="64,511,70,458,87,378,101,334,119,289,141,246,169,207,213,156,255,114,297,81,340,55,386,37,437,24,496,17,563,15,1119,15,1565,15,1565,21,1119,21,563,21,496,23,438,29,387,42,342,60,300,85,259,118,217,160,173,210,146,249,123,291,106,335,92,379,76,459,69,512"/>
<area shape="rect" href="classNetwork_1_1TransportLayer_1_1TCPSocket.html#aab30f88e654d44503b85368f4af43e8d" title="Accept an incoming client connection." alt="" coords="471,106,658,146"/>
<area shape="poly" title=" " alt="" coords="310,219,372,188,448,156,471,148,473,153,450,160,374,193,313,224"/>
<area shape="rect" href="classSessionManager.html#af8d1197fa1236d0295e3d31170639f6e" title="Add a TCP session entry." alt="" coords="459,171,670,196"/>
<area shape="poly" title=" " alt="" coords="356,219,480,196,481,201,357,224"/>
<area shape="rect" href="classTCPServer.html#aa6089a11e438f73bfc614c44f86e5d75" title="Close and invalidate a file descriptor." alt="" coords="768,329,915,355"/>
<area shape="poly" title=" " alt="" coords="354,244,681,307,764,324,763,329,679,313,353,249"/>
<area shape="poly" title=" " alt="" coords="299,246,404,397,416,420,424,439,433,455,451,472,462,479,459,483,448,476,429,459,419,441,411,422,399,399,295,249"/>
<area shape="rect" href="classTCPServer.html#a35b89efbda16dd8af6b7ff45b6da036d" title="Build a packet carrying a string payload." alt="" coords="459,437,671,463"/>
<area shape="poly" title=" " alt="" coords="303,245,366,302,451,372,533,428,530,432,448,376,362,306,299,249"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="1847,585,2017,611"/>
<area shape="poly" title=" " alt="" coords="295,220,319,191,354,155,398,120,448,92,504,71,553,60,598,54,640,54,728,61,840,66,1396,66,1450,71,1501,83,1549,104,1595,130,1639,162,1679,198,1752,279,1813,365,1862,448,1899,519,1923,571,1918,574,1894,522,1858,450,1809,368,1748,283,1676,202,1635,166,1592,135,1547,108,1499,89,1449,76,1396,71,840,71,728,66,640,59,598,60,554,65,506,77,450,96,401,124,358,159,323,195,299,223"/>
<area shape="rect" href="classTCPServer.html#a2595c03eed6bf37e098e619e6751a3d4" title="Close a raw fd without resetting the caller&#39;s variable." alt="" coords="1030,329,1205,355"/>
<area shape="poly" title=" " alt="" coords="915,339,1016,339,1016,345,915,345"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="2078,561,2221,587"/>
<area shape="poly" title=" " alt="" coords="2017,586,2064,581,2065,586,2017,591"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="2076,611,2223,636"/>
<area shape="poly" title=" " alt="" coords="2017,605,2063,611,2062,616,2017,611"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="2280,561,2407,587"/>
<area shape="poly" title=" " alt="" coords="2221,571,2266,571,2266,577,2221,577"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="2271,611,2416,636"/>
<area shape="poly" title=" " alt="" coords="2223,621,2257,621,2257,626,2223,626"/>
<area shape="poly" title=" " alt="" coords="356,535,480,512,481,517,357,540"/>
<area shape="poly" title=" " alt="" coords="309,535,371,503,448,471,477,463,478,468,450,477,373,508,311,540"/>
<area shape="poly" title=" " alt="" coords="386,547,1116,545,1396,545,1515,548,1633,557,1835,581,1834,586,1633,562,1514,554,1396,550,1116,550,386,552"/>
<area shape="rect" href="classTCPServer.html#afb22938cbabd280ec30b3ffab25aeb56" title=" " alt="" coords="458,588,671,613"/>
<area shape="poly" title=" " alt="" coords="357,560,481,583,480,588,356,565"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="481,637,648,663"/>
<area shape="poly" title=" " alt="" coords="312,560,374,591,450,622,482,631,481,637,448,627,371,596,310,565"/>
<area shape="poly" title=" " alt="" coords="671,597,1116,595,1396,595,1834,595,1834,601,1396,601,1116,601,671,603"/>
<area shape="poly" title=" " alt="" coords="647,638,679,622,710,595,737,563,761,528,782,491,812,422,831,367,836,369,817,424,787,494,766,530,742,566,714,599,681,627,649,643"/>
<area shape="rect" href="classSessionManager.html#a8916c4ee701635dd8b2ee525331efb0b" title="Remove a session by player id." alt="" coords="733,636,949,661"/>
<area shape="poly" title=" " alt="" coords="648,647,719,647,719,652,648,652"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="1008,736,1227,761"/>
<area shape="poly" title=" " alt="" coords="637,660,1032,731,1031,736,636,665"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="1304,736,1485,761"/>
<area shape="poly" title=" " alt="" coords="1227,746,1290,746,1290,751,1227,751"/>
<area shape="rect" href="classSessionManager.html#a8023cf136e039298b1e2ba5fe7cb224b" title="Store the lobby code for a player." alt="" coords="1280,687,1509,712"/>
<area shape="poly" title=" " alt="" coords="1189,733,1309,712,1310,717,1190,739"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="1577,1129,1768,1169"/>
<area shape="poly" title=" " alt="" coords="1487,755,1511,772,1528,794,1540,815,1546,837,1549,859,1546,902,1537,945,1528,988,1524,1030,1533,1072,1544,1094,1559,1115,1568,1123,1564,1127,1555,1118,1539,1096,1528,1074,1519,1030,1523,987,1532,944,1541,901,1544,859,1541,838,1535,817,1524,797,1507,776,1484,760"/>
<area shape="poly" title=" " alt="" coords="1767,1129,1786,1115,1812,1077,1835,1022,1857,954,1876,879,1907,731,1924,624,1930,625,1912,732,1882,880,1862,955,1840,1024,1816,1080,1790,1119,1770,1133"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="1836,1129,2028,1169"/>
<area shape="poly" title=" " alt="" coords="1768,1146,1822,1146,1822,1151,1768,1151"/>
<area shape="rect" href="classTCPServer.html#a3b0daca7192b0342a5694a287319ddaa" title="Wrapper around select for testability." alt="" coords="479,1085,651,1111"/>
<area shape="poly" title=" " alt="" coords="307,991,369,1031,409,1053,450,1072,474,1079,473,1084,448,1076,406,1058,366,1036,304,996"/>
<area shape="poly" title=" " alt="" coords="298,711,360,650,448,573,529,517,532,521,451,577,364,654,302,715"/>
<area shape="poly" title=" " alt="" coords="296,712,343,653,399,573,412,544,418,519,427,495,448,472,454,467,458,471,451,476,431,498,423,520,417,546,404,575,348,656,300,715"/>
<area shape="poly" title=" " alt="" coords="394,715,1834,603,1834,608,394,720"/>
<area shape="poly" title=" " alt="" coords="302,711,364,667,405,643,448,622,471,614,473,619,450,627,407,648,367,672,305,715"/>
<area shape="poly" title=" " alt="" coords="333,711,503,664,505,669,334,716"/>
<area shape="rect" href="classSessionManager.html#a0c52e8605801fc4e98c84b724ec72c09" title="Fetch the lobby code for a player." alt="" coords="449,1036,680,1061"/>
<area shape="poly" title=" " alt="" coords="387,737,403,750,427,784,435,819,434,854,428,889,422,923,420,957,429,990,451,1023,454,1026,451,1030,447,1026,424,992,415,957,416,922,423,888,429,853,430,819,422,786,399,753,383,741"/>
<area shape="rect" href="classSessionManager.html#a3d137db5b62fdb63340d7b92b8eb371f" title="Fetch the player&#39;s pseudo." alt="" coords="462,739,667,764"/>
<area shape="poly" title=" " alt="" coords="394,733,448,738,448,743,393,738"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="454,888,675,913"/>
<area shape="poly" title=" " alt="" coords="383,737,403,749,417,765,424,781,428,813,432,844,438,859,451,873,458,879,455,883,448,877,434,862,427,846,423,814,419,782,412,768,400,753,380,741"/>
<area shape="rect" href="classTCPServer.html#a13efa1ebda8d0f4c99eae65d6b012b75" title="Build a packet carrying a simple integer id." alt="" coords="471,788,658,813"/>
<area shape="poly" title=" " alt="" coords="359,736,402,749,427,762,450,774,476,782,475,787,448,779,424,766,400,754,358,741"/>
<area shape="rect" href="classTCPServer.html#ae9543e5003c04975a7e06a9bb85c7723" title="Receive and parse a packet from a client socket." alt="" coords="471,987,658,1012"/>
<area shape="poly" title=" " alt="" coords="386,737,403,749,423,778,432,806,432,835,428,864,424,892,424,920,432,947,451,974,461,981,458,986,447,977,427,949,419,921,419,892,423,863,426,835,426,807,419,780,399,753,383,741"/>
<area shape="rect" href="classSessionManager.html#a84b313bdbfecb70d12707d77f357bca8" title="Store the player&#39;s pseudo." alt="" coords="463,837,667,863"/>
<area shape="poly" title=" " alt="" coords="379,736,403,749,420,768,428,788,435,807,451,824,460,829,457,834,448,828,430,809,423,790,416,771,400,753,376,741"/>
<area shape="rect" href="classSessionManager.html#ac233a47eaa6ca5e9b69e0cb8cd377358" title="Update last PONG time for heartbeat checks." alt="" coords="457,937,672,963"/>
<area shape="poly" title=" " alt="" coords="385,737,403,749,420,771,428,794,428,839,428,883,435,904,451,924,455,928,452,932,447,928,430,906,423,884,423,839,423,795,415,774,399,753,382,741"/>
<area shape="poly" title=" " alt="" coords="626,911,681,923,747,942,803,961,897,999,942,1014,991,1027,1048,1035,1116,1038,1396,1038,1444,1034,1491,1024,1537,1008,1580,986,1622,960,1661,931,1734,865,1796,794,1848,726,1915,621,1919,624,1853,729,1801,798,1738,869,1665,935,1625,965,1583,991,1539,1013,1493,1029,1445,1040,1396,1043,1116,1043,1047,1040,990,1032,941,1019,895,1004,801,966,746,947,679,929,625,916"/>
<area shape="poly" title=" " alt="" coords="676,908,796,910,939,901,1014,889,1089,873,1162,849,1231,818,1245,808,1254,796,1263,783,1279,772,1297,763,1299,768,1281,776,1267,787,1258,799,1249,811,1233,823,1164,854,1090,878,1015,895,939,906,796,915,676,913"/>
<area shape="poly" title=" " alt="" coords="665,911,682,924,703,955,711,987,709,1019,704,1050,698,1081,698,1111,707,1139,730,1165,746,1174,773,1180,852,1188,958,1190,1082,1187,1343,1173,1563,1156,1564,1161,1343,1178,1082,1193,958,1195,852,1193,772,1185,744,1179,726,1169,702,1142,693,1112,693,1081,698,1050,704,1018,705,987,698,957,678,928,662,916"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="753,788,930,813"/>
<area shape="poly" title=" " alt="" coords="649,885,679,873,693,862,702,849,711,836,727,824,744,816,746,820,729,828,715,840,706,852,697,865,681,878,651,890"/>
<area shape="rect" href="classTCPServer.html#aee3fb51b52375d68f548f60cc7005ef0" title="Notify all clients of a newly connected player." alt="" coords="1557,1079,1788,1104"/>
<area shape="poly" title=" " alt="" coords="662,911,682,924,696,941,703,959,705,994,708,1028,715,1043,730,1057,757,1073,791,1086,877,1105,982,1117,1098,1121,1219,1120,1338,1116,1544,1101,1544,1107,1338,1121,1219,1126,1098,1126,982,1122,876,1111,789,1091,754,1078,726,1061,711,1046,703,1029,700,995,698,960,691,944,678,928,659,916"/>
<area shape="rect" href="classTCPServer.html#a063b685012f0cd7b069ad82dbffcb95f" title="Generate a random lobby code (6 chars alnum)." alt="" coords="728,1129,955,1155"/>
<area shape="poly" title=" " alt="" coords="664,911,682,924,699,947,707,970,709,994,707,1018,706,1041,707,1064,714,1086,730,1108,747,1121,743,1125,726,1112,709,1088,702,1064,700,1041,702,1017,704,994,702,972,695,950,678,928,661,916"/>
<area shape="rect" href="classTCPServer.html#ae45d63761257c84a68a96c24541c13e4" title=" " alt="" coords="735,837,948,863"/>
<area shape="poly" title=" " alt="" coords="634,885,757,863,758,868,635,891"/>
<area shape="poly" title=" " alt="" coords="909,785,1036,761,1037,766,910,791"/>
<area shape="poly" title=" " alt="" coords="930,810,999,813,1076,810,1155,797,1194,786,1231,772,1246,761,1254,748,1263,734,1279,721,1292,714,1295,719,1281,726,1267,738,1259,751,1249,764,1233,776,1196,791,1157,803,1076,815,999,818,930,815"/>
<area shape="rect" href="classTCPServer.html#a30203c2836aa52676f3e6205d8730943" title=" " alt="" coords="1003,923,1232,948"/>
<area shape="poly" title=" " alt="" coords="918,811,956,824,995,843,1032,867,1092,912,1089,916,1029,871,992,848,954,828,917,816"/>
<area shape="rect" href="classChildProcessManager.html#af9be1ce64da7e05952b231b22df221a0" title=" " alt="" coords="1313,963,1476,1003"/>
<area shape="poly" title=" " alt="" coords="1192,945,1300,964,1299,970,1191,951"/>
<area shape="rect" href="classTCPServer.html#a25273652d6d80037ec5bcad8725bd269" title=" " alt="" coords="1307,785,1482,811"/>
<area shape="poly" title=" " alt="" coords="1193,920,1230,901,1246,882,1253,862,1261,841,1278,821,1293,812,1296,817,1282,825,1265,844,1258,864,1251,885,1234,905,1196,925"/>
<area shape="rect" href="classChildProcessManager.html#a3b7c34be0f81b8a841d4ecd28a837bf6" title=" " alt="" coords="1313,835,1476,875"/>
<area shape="poly" title=" " alt="" coords="1165,920,1231,901,1279,885,1306,877,1308,882,1281,890,1233,906,1166,925"/>
<area shape="rect" href="classChildProcessManager.html#a138e2d098e92a2c6d1ad7b35dadd6541" title="Spawn a UDP game server process." alt="" coords="1313,899,1476,939"/>
<area shape="poly" title=" " alt="" coords="1232,926,1299,922,1299,927,1233,931"/>
<area shape="poly" title=" " alt="" coords="1756,1076,1786,1057,1828,1007,1861,949,1886,887,1904,824,1916,763,1923,708,1928,624,1933,625,1928,708,1921,764,1909,826,1891,889,1866,951,1833,1010,1790,1061,1759,1081"/>
<area shape="rect" href="namespaceProtocol.html#ad768525ca5f0324a5f414440e67679b6" title="Append newly read bytes then attempt extraction." alt="" coords="750,1280,933,1305"/>
<area shape="poly" title=" " alt="" coords="660,1007,682,1023,703,1054,712,1085,711,1116,707,1147,702,1178,701,1208,709,1238,730,1267,740,1275,737,1279,726,1270,704,1240,696,1209,696,1177,701,1146,706,1116,707,1085,699,1056,678,1027,657,1012"/>
<area shape="rect" href="classTCPServer.html#a00011973e407cab03dde7c74a4c65949" title="Read raw bytes from a socket fd." alt="" coords="771,1231,912,1256"/>
<area shape="poly" title=" " alt="" coords="660,1008,682,1023,700,1046,708,1070,709,1094,707,1118,705,1141,707,1164,714,1187,730,1209,759,1229,756,1233,726,1213,709,1189,701,1165,700,1141,702,1117,704,1094,702,1071,695,1049,678,1027,657,1012"/>
<area shape="rect" href="namespaceProtocol.html#a10005c44787f8de2a0e42d395aff8baa" title="Try to extract a complete packet from an accumulated stream buffer." alt="" coords="1017,1280,1218,1305"/>
<area shape="poly" title=" " alt="" coords="933,1290,1003,1290,1003,1295,933,1295"/>
<area shape="rect" href="classPacket.html#abfcd427a2ca434ac71592334517638fb" title="Deserialize a packet from a raw byte buffer." alt="" coords="1323,1280,1466,1305"/>
<area shape="poly" title=" " alt="" coords="1218,1290,1310,1290,1310,1295,1218,1295"/>
<area shape="poly" title=" " alt="" coords="402,432,445,436,445,441,401,437"/>
<area shape="poly" title=" " alt="" coords="298,408,359,357,402,329,448,308,505,290,555,279,599,274,641,273,729,278,840,282,1396,282,1439,284,1482,292,1565,317,1644,355,1716,401,1781,449,1836,497,1912,573,1909,577,1833,501,1778,453,1713,405,1641,360,1563,322,1481,297,1439,290,1396,287,840,287,729,283,641,278,599,279,556,284,507,295,450,312,404,334,362,361,302,413"/>
<area shape="poly" title=" " alt="" coords="309,434,533,578,530,583,306,438"/>
<area shape="poly" title=" " alt="" coords="359,408,428,401,510,398,596,404,639,411,681,422,750,450,817,486,880,528,938,572,1035,658,1098,724,1094,727,1031,662,935,576,877,532,814,491,748,455,679,427,638,416,596,409,510,403,429,406,360,413"/>
<area shape="rect" href="classChildProcessManager.html#ad5e9300f230cd2aa806b8b2f91c40939" title="Remove tracking info (does not kill)." alt="" coords="483,322,646,362"/>
<area shape="poly" title=" " alt="" coords="330,408,482,363,483,368,331,413"/>
<area shape="poly" title=" " alt="" coords="1760,29,1790,48,1817,89,1842,149,1864,222,1884,302,1913,459,1930,571,1925,572,1908,460,1878,303,1859,223,1837,151,1813,92,1786,52,1757,33"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a4e6d2ef05b71c4ecbd0518fc7215ece3_icgraph.png" border="0" usemap="#aclassTCPServer_a4e6d2ef05b71c4ecbd0518fc7215ece3_icgraph" alt=""/></div>
<map name="aclassTCPServer_a4e6d2ef05b71c4ecbd0518fc7215ece3_icgraph" id="aclassTCPServer_a4e6d2ef05b71c4ecbd0518fc7215ece3_icgraph">
<area shape="rect" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a3b0daca7192b0342a5694a287319ddaa" name="a3b0daca7192b0342a5694a287319ddaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b0daca7192b0342a5694a287319ddaa">&#9670;&#160;</a></span>selectFdSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TCPServer::selectFdSet </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&#160;</td>
          <td class="paramname"><em>readfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&#160;</td>
          <td class="paramname"><em>writefds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&#160;</td>
          <td class="paramname"><em>exceptfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wrapper around select for testability. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00527">527</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00160">pollSockets()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00122">waitForReadable()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a3b0daca7192b0342a5694a287319ddaa_icgraph.png" border="0" usemap="#aclassTCPServer_a3b0daca7192b0342a5694a287319ddaa_icgraph" alt=""/></div>
<map name="aclassTCPServer_a3b0daca7192b0342a5694a287319ddaa_icgraph" id="aclassTCPServer_a3b0daca7192b0342a5694a287319ddaa_icgraph">
<area shape="rect" title="Wrapper around select for testability." alt="" coords="527,31,699,56"/>
<area shape="rect" href="classTCPServer.html#a5e77543739e5b801384f9fe3e63c2bf8" title="Poll all sockets using select()." alt="" coords="291,5,461,31"/>
<area shape="poly" title=" " alt="" coords="512,35,461,30,462,24,513,30"/>
<area shape="rect" href="classTCPServer.html#a75a51391de5f2f6d4d54f0ae9626d9c9" title="Block until a file descriptor is readable or times out." alt="" coords="273,55,479,80"/>
<area shape="poly" title=" " alt="" coords="513,56,479,60,478,54,512,51"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="277,21,225,21,225,15,277,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a9a65a3923e77e48c5f0019b45af8fcb5" name="a9a65a3923e77e48c5f0019b45af8fcb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a65a3923e77e48c5f0019b45af8fcb5">&#9670;&#160;</a></span>sendPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TCPServer::sendPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classPacket.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a packet to a specific client fd. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00088">88</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="Protocol_8cpp_source.html#l00011">Protocol::frameTcp()</a>, <a class="el" href="ISocket_8hpp_source.html#l00045">INVALID_SOCKET_FD</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00537">writeAll()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00165">acceptNewClient()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00578">broadcastNewPlayer()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00079">broadcastToLobby()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00351">checkHeartbeat()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00702">handleLobbyPacket()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00203">processClientData()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00377">processIpcMessages()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00341">sendPingToAll()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00572">sendPlayerListToClient()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a9a65a3923e77e48c5f0019b45af8fcb5_cgraph.png" border="0" usemap="#aclassTCPServer_a9a65a3923e77e48c5f0019b45af8fcb5_cgraph" alt=""/></div>
<map name="aclassTCPServer_a9a65a3923e77e48c5f0019b45af8fcb5_cgraph" id="aclassTCPServer_a9a65a3923e77e48c5f0019b45af8fcb5_cgraph">
<area shape="rect" title="Send a packet to a specific client fd." alt="" coords="5,31,175,56"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="225,5,367,31"/>
<area shape="poly" title=" " alt="" coords="175,30,211,26,212,31,176,36"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="223,55,369,80"/>
<area shape="poly" title=" " alt="" coords="176,51,209,55,209,60,175,56"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="427,5,553,31"/>
<area shape="poly" title=" " alt="" coords="367,15,413,15,413,21,367,21"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="417,55,563,80"/>
<area shape="poly" title=" " alt="" coords="370,65,403,65,403,70,370,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a9a65a3923e77e48c5f0019b45af8fcb5_icgraph.png" border="0" usemap="#aclassTCPServer_a9a65a3923e77e48c5f0019b45af8fcb5_icgraph" alt=""/></div>
<map name="aclassTCPServer_a9a65a3923e77e48c5f0019b45af8fcb5_icgraph" id="aclassTCPServer_a9a65a3923e77e48c5f0019b45af8fcb5_icgraph">
<area shape="rect" title="Send a packet to a specific client fd." alt="" coords="1868,240,2037,265"/>
<area shape="rect" href="classTCPServer.html#ae0e94f8d712b3c9028fe674100d649b9" title="Accept incoming connection and register a new client slot." alt="" coords="1363,8,1569,33"/>
<area shape="poly" title=" " alt="" coords="1940,227,1924,187,1898,139,1863,92,1842,71,1819,54,1788,39,1756,27,1689,13,1622,8,1561,10,1561,5,1622,3,1690,8,1758,22,1791,34,1821,50,1846,67,1867,88,1903,136,1929,185,1945,225"/>
<area shape="rect" href="classTCPServer.html#aee3fb51b52375d68f548f60cc7005ef0" title="Notify all clients of a newly connected player." alt="" coords="1351,160,1581,185"/>
<area shape="poly" title=" " alt="" coords="1890,239,1819,223,1697,203,1581,187,1582,182,1697,197,1821,218,1891,233"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,210,757,236"/>
<area shape="poly" title=" " alt="" coords="1917,235,1871,212,1819,191,1723,159,1646,139,1568,128,1467,124,1192,124,1119,127,1045,134,902,158,778,187,689,213,687,208,777,182,901,153,1045,129,1119,122,1192,119,1467,119,1569,122,1647,133,1724,154,1821,186,1873,207,1919,231"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,310,488,336"/>
<area shape="poly" title=" " alt="" coords="1929,232,1882,187,1851,164,1819,145,1726,105,1649,84,1569,75,1467,74,919,74,804,77,756,84,713,94,672,110,631,132,587,162,538,199,521,219,514,239,507,261,490,282,463,300,434,313,432,308,460,295,486,278,502,258,509,238,517,217,534,196,584,157,628,128,670,105,712,89,755,79,803,72,919,68,1467,68,1570,70,1650,78,1727,100,1821,140,1854,160,1885,183,1933,228"/>
<area shape="rect" href="classTCPServer.html#afb22938cbabd280ec30b3ffab25aeb56" title=" " alt="" coords="1087,437,1300,462"/>
<area shape="poly" title=" " alt="" coords="1890,271,1244,439,1243,434,1888,266"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="547,513,746,538"/>
<area shape="poly" title=" " alt="" coords="1926,275,1879,309,1821,341,1709,392,1612,431,1524,459,1441,480,1356,496,1264,508,1036,531,884,538,746,535,746,529,884,532,1036,526,1263,503,1355,490,1440,475,1523,454,1610,425,1707,387,1819,337,1876,304,1923,271"/>
<area shape="rect" href="classTCPServer.html#a2a03b7479e884f287b5a88df03eeb17b" title=" " alt="" coords="805,462,1036,488"/>
<area shape="poly" title=" " alt="" coords="1951,279,1941,338,1919,412,1902,451,1881,487,1854,520,1821,546,1790,561,1751,572,1705,579,1654,582,1537,579,1411,567,1282,549,1162,528,977,490,978,485,1163,523,1283,544,1411,562,1538,574,1654,576,1705,573,1750,567,1788,556,1819,542,1850,516,1876,484,1897,448,1914,410,1936,336,1946,278"/>
<area shape="rect" href="classTCPServer.html#a1ef2aa5cce99901889e64fce86fbac33" title="Send a ping packet to every connected client." alt="" coords="287,589,474,614"/>
<area shape="poly" title=" " alt="" coords="1952,279,1944,343,1923,427,1906,472,1884,514,1856,553,1822,586,1777,616,1735,634,1695,643,1656,644,1571,636,1467,630,919,630,678,623,474,611,474,606,678,618,919,624,1467,624,1572,631,1656,639,1695,637,1734,629,1774,611,1818,582,1852,550,1879,512,1901,469,1918,426,1938,342,1947,278"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="1629,232,1820,272"/>
<area shape="poly" title=" " alt="" coords="1854,255,1820,255,1820,250,1854,250"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,462,225,488"/>
<area shape="poly" title=" " alt="" coords="1349,23,922,23,645,23,597,27,552,39,508,57,467,81,428,110,391,142,325,215,270,291,227,363,176,463,171,461,222,360,266,288,321,211,387,138,424,106,464,76,506,52,550,34,597,22,645,18,922,18,1349,18"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,462,60,488"/>
<area shape="poly" title=" " alt="" coords="94,478,60,478,60,472,94,472"/>
<area shape="poly" title=" " alt="" coords="1337,178,1090,189,806,207,746,213,746,208,805,202,1090,183,1337,173"/>
<area shape="poly" title=" " alt="" coords="563,241,537,249,463,281,405,312,402,308,461,276,535,244,561,236"/>
<area shape="poly" title=" " alt="" coords="352,346,188,464,184,460,349,341"/>
<area shape="poly" title=" " alt="" coords="1072,448,780,433,638,419,535,401,496,388,459,371,401,338,403,334,462,366,498,383,537,396,639,414,781,427,1073,443"/>
<area shape="poly" title=" " alt="" coords="1148,470,1095,488,1037,503,961,515,884,522,746,529,746,523,884,517,960,509,1035,498,1094,483,1147,465"/>
<area shape="poly" title=" " alt="" coords="1073,463,1037,467,1036,461,1073,458"/>
<area shape="poly" title=" " alt="" coords="533,521,408,511,273,496,225,489,226,483,274,491,409,506,534,516"/>
<area shape="poly" title=" " alt="" coords="792,478,225,478,225,472,792,472"/>
<area shape="poly" title=" " alt="" coords="341,585,272,546,185,490,188,485,275,542,343,580"/>
<area shape="poly" title=" " alt="" coords="1615,252,1581,251,757,228,758,223,1581,246,1616,246"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="1375,261,1557,286"/>
<area shape="poly" title=" " alt="" coords="1616,264,1557,269,1556,263,1615,259"/>
<area shape="poly" title=" " alt="" coords="1361,273,1108,263,805,244,746,238,746,233,806,239,1108,258,1362,268"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="1084,336,1303,361"/>
<area shape="poly" title=" " alt="" coords="1406,293,1241,338,1240,333,1404,288"/>
<area shape="poly" title=" " alt="" coords="1154,369,950,465,948,460,1151,364"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="832,312,1009,337"/>
<area shape="poly" title=" " alt="" coords="1070,340,1009,335,1010,329,1071,335"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="837,361,1004,386"/>
<area shape="poly" title=" " alt="" coords="1070,362,1004,368,1004,363,1070,357"/>
<area shape="poly" title=" " alt="" coords="839,310,804,295,789,283,779,271,770,260,756,249,729,238,731,233,759,245,774,256,784,268,793,279,807,290,841,305"/>
<area shape="rect" href="classTCPServer.html#ad6bed785945fc2f21376ff2b58090829" title="Auto&#45;match the client into a public lobby." alt="" coords="543,260,750,285"/>
<area shape="poly" title=" " alt="" coords="839,312,714,288,715,282,840,306"/>
<area shape="poly" title=" " alt="" coords="828,362,757,352,617,339,488,331,488,326,617,334,758,347,829,356"/>
<area shape="poly" title=" " alt="" coords="886,395,672,515,669,510,884,391"/>
<area shape="rect" href="classTCPServer.html#abc497ac52355e53986a6a1bd1acb9581" title="Destroy the TCPServer, closing the listening socket." alt="" coords="560,361,733,386"/>
<area shape="poly" title=" " alt="" coords="823,376,734,376,734,371,823,371"/>
</map>
</div>

</div>
</div>
<a id="a1ef2aa5cce99901889e64fce86fbac33" name="a1ef2aa5cce99901889e64fce86fbac33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef2aa5cce99901889e64fce86fbac33">&#9670;&#160;</a></span>sendPingToAll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::sendPingToAll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a ping packet to every connected client. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00341">341</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8hpp_source.html#l00223">_clients</a>, <a class="el" href="Packet_8hpp.html#a0628f13bcd4685c7a4b4a9f1aad83b56ae07ff41a486c27c095a15898dcca34d1">PING</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00088">sendPacket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00446">run()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a1ef2aa5cce99901889e64fce86fbac33_cgraph.png" border="0" usemap="#aclassTCPServer_a1ef2aa5cce99901889e64fce86fbac33_cgraph" alt=""/></div>
<map name="aclassTCPServer_a1ef2aa5cce99901889e64fce86fbac33_cgraph" id="aclassTCPServer_a1ef2aa5cce99901889e64fce86fbac33_cgraph">
<area shape="rect" title="Send a ping packet to every connected client." alt="" coords="5,31,192,56"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="240,31,409,56"/>
<area shape="poly" title=" " alt="" coords="192,41,226,41,226,46,192,46"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="459,5,602,31"/>
<area shape="poly" title=" " alt="" coords="410,30,446,26,446,31,410,36"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="457,55,604,80"/>
<area shape="poly" title=" " alt="" coords="410,51,444,55,443,60,410,56"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="661,5,788,31"/>
<area shape="poly" title=" " alt="" coords="602,15,647,15,647,21,602,21"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="652,55,797,80"/>
<area shape="poly" title=" " alt="" coords="604,65,638,65,638,70,604,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a1ef2aa5cce99901889e64fce86fbac33_icgraph.png" border="0" usemap="#aclassTCPServer_a1ef2aa5cce99901889e64fce86fbac33_icgraph" alt=""/></div>
<map name="aclassTCPServer_a1ef2aa5cce99901889e64fce86fbac33_icgraph" id="aclassTCPServer_a1ef2aa5cce99901889e64fce86fbac33_icgraph">
<area shape="rect" title="Send a ping packet to every connected client." alt="" coords="273,5,460,31"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,5,225,31"/>
<area shape="poly" title=" " alt="" coords="260,21,225,21,225,15,260,15"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="aa87b20fb76f60c19df36f39ef3621b05" name="aa87b20fb76f60c19df36f39ef3621b05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa87b20fb76f60c19df36f39ef3621b05">&#9670;&#160;</a></span>sendPlayerListToClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPServer::sendPlayerListToClient </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTCPServer_1_1Client.html">Client</a> &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send the current player list to a single client. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00572">572</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8cpp_source.html#l00549">buildPlayerListPacket()</a>, <a class="el" href="TCPServer_8hpp_source.html#l00058">TCPServer::Client::fd</a>, <a class="el" href="TCPServer_8hpp_source.html#l00063">TCPServer::Client::lobbyCode</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00088">sendPacket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00702">handleLobbyPacket()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00596">refreshLobby()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_aa87b20fb76f60c19df36f39ef3621b05_cgraph.png" border="0" usemap="#aclassTCPServer_aa87b20fb76f60c19df36f39ef3621b05_cgraph" alt=""/></div>
<map name="aclassTCPServer_aa87b20fb76f60c19df36f39ef3621b05_cgraph" id="aclassTCPServer_aa87b20fb76f60c19df36f39ef3621b05_cgraph">
<area shape="rect" title="Send the current player list to a single client." alt="" coords="5,35,196,75"/>
<area shape="rect" href="classTCPServer.html#a196ba30f88f890e9acf0ef1a21a74c71" title="Build the packet containing the list of connected players." alt="" coords="244,5,436,45"/>
<area shape="poly" title=" " alt="" coords="196,40,230,36,231,41,197,46"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="255,70,425,95"/>
<area shape="poly" title=" " alt="" coords="197,63,242,69,241,74,196,68"/>
<area shape="rect" href="namespaceProtocol.html#a668bdeed219432868fca095e1b2f2667" title="Build a TCP framed buffer (2 bytes length + serialized packet)." alt="" coords="486,45,629,70"/>
<area shape="poly" title=" " alt="" coords="425,70,472,65,473,70,425,75"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="484,94,631,119"/>
<area shape="poly" title=" " alt="" coords="425,89,471,94,470,100,425,95"/>
<area shape="rect" href="classPacket.html#aa88c2d28796644c8a1d6137996502ca8" title="Serialize the packet to a byte buffer ready to send." alt="" coords="688,45,815,70"/>
<area shape="poly" title=" " alt="" coords="629,55,674,55,674,60,629,60"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="679,94,824,119"/>
<area shape="poly" title=" " alt="" coords="631,104,665,104,665,109,631,109"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_aa87b20fb76f60c19df36f39ef3621b05_icgraph.png" border="0" usemap="#aclassTCPServer_aa87b20fb76f60c19df36f39ef3621b05_icgraph" alt=""/></div>
<map name="aclassTCPServer_aa87b20fb76f60c19df36f39ef3621b05_icgraph" id="aclassTCPServer_aa87b20fb76f60c19df36f39ef3621b05_icgraph">
<area shape="rect" title="Send the current player list to a single client." alt="" coords="1580,5,1771,45"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,39,757,65"/>
<area shape="poly" title=" " alt="" coords="1566,25,1226,22,1016,26,806,36,742,42,741,37,805,31,1016,21,1226,17,1566,20"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="1351,38,1532,63"/>
<area shape="poly" title=" " alt="" coords="1567,40,1532,44,1532,38,1566,34"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,41,488,66"/>
<area shape="poly" title=" " alt="" coords="523,55,488,55,488,50,522,50"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,90,225,115"/>
<area shape="poly" title=" " alt="" coords="310,72,274,80,221,92,220,87,273,75,309,66"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,90,60,115"/>
<area shape="poly" title=" " alt="" coords="94,105,60,105,60,100,94,100"/>
<area shape="poly" title=" " alt="" coords="1337,54,758,54,758,49,1337,48"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="1084,114,1303,139"/>
<area shape="poly" title=" " alt="" coords="1387,70,1237,116,1235,111,1385,65"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="832,89,1009,114"/>
<area shape="poly" title=" " alt="" coords="1070,118,1009,112,1010,107,1071,113"/>
<area shape="rect" href="classTCPServer.html#a2a03b7479e884f287b5a88df03eeb17b" title=" " alt="" coords="805,190,1036,215"/>
<area shape="poly" title=" " alt="" coords="1135,146,1037,173,968,192,967,187,1035,168,1133,140"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="563,139,730,165"/>
<area shape="poly" title=" " alt="" coords="1070,135,730,151,730,146,1070,130"/>
<area shape="poly" title=" " alt="" coords="835,89,718,67,719,62,836,84"/>
<area shape="rect" href="classTCPServer.html#ad6bed785945fc2f21376ff2b58090829" title="Auto&#45;match the client into a public lobby." alt="" coords="543,89,750,114"/>
<area shape="poly" title=" " alt="" coords="818,104,750,104,750,99,818,99"/>
<area shape="poly" title=" " alt="" coords="811,219,697,227,561,228,488,223,415,214,342,200,272,180,244,167,218,150,179,118,183,114,221,146,247,162,274,175,344,195,416,209,489,218,561,222,697,222,811,214"/>
<area shape="poly" title=" " alt="" coords="556,137,535,128,519,115,510,103,501,91,487,80,460,69,462,64,489,75,505,87,514,100,523,112,537,123,558,132"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="281,90,480,115"/>
<area shape="poly" title=" " alt="" coords="564,139,450,118,451,113,565,134"/>
<area shape="rect" href="classTCPServer.html#abc497ac52355e53986a6a1bd1acb9581" title="Destroy the TCPServer, closing the listening socket." alt="" coords="294,139,467,165"/>
<area shape="poly" title=" " alt="" coords="550,155,468,155,468,149,550,149"/>
<area shape="poly" title=" " alt="" coords="268,105,226,105,226,100,268,100"/>
</map>
</div>

</div>
</div>
<a id="a75a51391de5f2f6d4d54f0ae9626d9c9" name="a75a51391de5f2f6d4d54f0ae9626d9c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75a51391de5f2f6d4d54f0ae9626d9c9">&#9670;&#160;</a></span>waitForReadable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TCPServer::waitForReadable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeoutSec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeoutUsec</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Block until a file descriptor is readable or times out. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00122">122</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8cpp_source.html#l00527">selectFdSet()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a75a51391de5f2f6d4d54f0ae9626d9c9_cgraph.png" border="0" usemap="#aclassTCPServer_a75a51391de5f2f6d4d54f0ae9626d9c9_cgraph" alt=""/></div>
<map name="aclassTCPServer_a75a51391de5f2f6d4d54f0ae9626d9c9_cgraph" id="aclassTCPServer_a75a51391de5f2f6d4d54f0ae9626d9c9_cgraph">
<area shape="rect" title="Block until a file descriptor is readable or times out." alt="" coords="5,5,211,31"/>
<area shape="rect" href="classTCPServer.html#a3b0daca7192b0342a5694a287319ddaa" title="Wrapper around select for testability." alt="" coords="259,5,431,31"/>
<area shape="poly" title=" " alt="" coords="211,15,245,15,245,21,211,21"/>
</map>
</div>

</div>
</div>
<a id="a79e20e1d2821e399fe47dd1055341d5e" name="a79e20e1d2821e399fe47dd1055341d5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79e20e1d2821e399fe47dd1055341d5e">&#9670;&#160;</a></span>writeAll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TCPServer::writeAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ensure the full buffer is written to the socket. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00537">537</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">References <a class="el" href="TCPServer_8cpp_source.html#l00517">writeFd()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00088">sendPacket()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a79e20e1d2821e399fe47dd1055341d5e_cgraph.png" border="0" usemap="#aclassTCPServer_a79e20e1d2821e399fe47dd1055341d5e_cgraph" alt=""/></div>
<map name="aclassTCPServer_a79e20e1d2821e399fe47dd1055341d5e_cgraph" id="aclassTCPServer_a79e20e1d2821e399fe47dd1055341d5e_cgraph">
<area shape="rect" title="Ensure the full buffer is written to the socket." alt="" coords="5,5,152,31"/>
<area shape="rect" href="classTCPServer.html#a5b1988f8a542c2d39f3d3556264e71b2" title="Write raw bytes to a socket fd." alt="" coords="200,5,345,31"/>
<area shape="poly" title=" " alt="" coords="152,15,186,15,186,21,152,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a79e20e1d2821e399fe47dd1055341d5e_icgraph.png" border="0" usemap="#aclassTCPServer_a79e20e1d2821e399fe47dd1055341d5e_icgraph" alt=""/></div>
<map name="aclassTCPServer_a79e20e1d2821e399fe47dd1055341d5e_icgraph" id="aclassTCPServer_a79e20e1d2821e399fe47dd1055341d5e_icgraph">
<area shape="rect" title="Ensure the full buffer is written to the socket." alt="" coords="2085,240,2232,265"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="1868,240,2037,265"/>
<area shape="poly" title=" " alt="" coords="2072,255,2037,255,2037,250,2072,250"/>
<area shape="rect" href="classTCPServer.html#ae0e94f8d712b3c9028fe674100d649b9" title="Accept incoming connection and register a new client slot." alt="" coords="1363,8,1569,33"/>
<area shape="poly" title=" " alt="" coords="1940,227,1924,187,1898,139,1863,92,1842,71,1819,54,1788,39,1756,27,1689,13,1622,8,1561,10,1561,5,1622,3,1690,8,1758,22,1791,34,1821,50,1846,67,1867,88,1903,136,1929,185,1945,225"/>
<area shape="rect" href="classTCPServer.html#aee3fb51b52375d68f548f60cc7005ef0" title="Notify all clients of a newly connected player." alt="" coords="1351,160,1581,185"/>
<area shape="poly" title=" " alt="" coords="1890,239,1819,223,1697,203,1581,187,1582,182,1697,197,1821,218,1891,233"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,210,757,236"/>
<area shape="poly" title=" " alt="" coords="1917,235,1871,212,1819,191,1723,159,1646,139,1568,128,1467,124,1192,124,1119,127,1045,134,902,158,778,187,689,213,687,208,777,182,901,153,1045,129,1119,122,1192,119,1467,119,1569,122,1647,133,1724,154,1821,186,1873,207,1919,231"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,310,488,336"/>
<area shape="poly" title=" " alt="" coords="1929,232,1882,187,1851,164,1819,145,1726,105,1649,84,1569,75,1467,74,919,74,804,77,756,84,713,94,672,110,631,132,587,162,538,199,521,219,514,239,507,261,490,282,463,300,434,313,432,308,460,295,486,278,502,258,509,238,517,217,534,196,584,157,628,128,670,105,712,89,755,79,803,72,919,68,1467,68,1570,70,1650,78,1727,100,1821,140,1854,160,1885,183,1933,228"/>
<area shape="rect" href="classTCPServer.html#afb22938cbabd280ec30b3ffab25aeb56" title=" " alt="" coords="1087,437,1300,462"/>
<area shape="poly" title=" " alt="" coords="1890,271,1244,439,1243,434,1888,266"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="547,513,746,538"/>
<area shape="poly" title=" " alt="" coords="1926,275,1879,309,1821,341,1709,392,1612,431,1524,459,1441,480,1356,496,1264,508,1036,531,884,538,746,535,746,529,884,532,1036,526,1263,503,1355,490,1440,475,1523,454,1610,425,1707,387,1819,337,1876,304,1923,271"/>
<area shape="rect" href="classTCPServer.html#a2a03b7479e884f287b5a88df03eeb17b" title=" " alt="" coords="805,462,1036,488"/>
<area shape="poly" title=" " alt="" coords="1951,279,1941,338,1919,412,1902,451,1881,487,1854,520,1821,546,1790,561,1751,572,1705,579,1654,582,1537,579,1411,567,1282,549,1162,528,977,490,978,485,1163,523,1283,544,1411,562,1538,574,1654,576,1705,573,1750,567,1788,556,1819,542,1850,516,1876,484,1897,448,1914,410,1936,336,1946,278"/>
<area shape="rect" href="classTCPServer.html#a1ef2aa5cce99901889e64fce86fbac33" title="Send a ping packet to every connected client." alt="" coords="287,589,474,614"/>
<area shape="poly" title=" " alt="" coords="1952,279,1944,343,1923,427,1906,472,1884,514,1856,553,1822,586,1777,616,1735,634,1695,643,1656,644,1571,636,1467,630,919,630,678,623,474,611,474,606,678,618,919,624,1467,624,1572,631,1656,639,1695,637,1734,629,1774,611,1818,582,1852,550,1879,512,1901,469,1918,426,1938,342,1947,278"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="1629,232,1820,272"/>
<area shape="poly" title=" " alt="" coords="1854,255,1820,255,1820,250,1854,250"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,462,225,488"/>
<area shape="poly" title=" " alt="" coords="1349,23,922,23,645,23,597,27,552,39,508,57,467,81,428,110,391,142,325,215,270,291,227,363,176,463,171,461,222,360,266,288,321,211,387,138,424,106,464,76,506,52,550,34,597,22,645,18,922,18,1349,18"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,462,60,488"/>
<area shape="poly" title=" " alt="" coords="94,478,60,478,60,472,94,472"/>
<area shape="poly" title=" " alt="" coords="1337,178,1090,189,806,207,746,213,746,208,805,202,1090,183,1337,173"/>
<area shape="poly" title=" " alt="" coords="563,241,537,249,463,281,405,312,402,308,461,276,535,244,561,236"/>
<area shape="poly" title=" " alt="" coords="352,346,188,464,184,460,349,341"/>
<area shape="poly" title=" " alt="" coords="1072,448,780,433,638,419,535,401,496,388,459,371,401,338,403,334,462,366,498,383,537,396,639,414,781,427,1073,443"/>
<area shape="poly" title=" " alt="" coords="1148,470,1095,488,1037,503,961,515,884,522,746,529,746,523,884,517,960,509,1035,498,1094,483,1147,465"/>
<area shape="poly" title=" " alt="" coords="1073,463,1037,467,1036,461,1073,458"/>
<area shape="poly" title=" " alt="" coords="533,521,408,511,273,496,225,489,226,483,274,491,409,506,534,516"/>
<area shape="poly" title=" " alt="" coords="792,478,225,478,225,472,792,472"/>
<area shape="poly" title=" " alt="" coords="341,585,272,546,185,490,188,485,275,542,343,580"/>
<area shape="poly" title=" " alt="" coords="1615,252,1581,251,757,228,758,223,1581,246,1616,246"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="1375,261,1557,286"/>
<area shape="poly" title=" " alt="" coords="1616,264,1557,269,1556,263,1615,259"/>
<area shape="poly" title=" " alt="" coords="1361,273,1108,263,805,244,746,238,746,233,806,239,1108,258,1362,268"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="1084,336,1303,361"/>
<area shape="poly" title=" " alt="" coords="1406,293,1241,338,1240,333,1404,288"/>
<area shape="poly" title=" " alt="" coords="1154,369,950,465,948,460,1151,364"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="832,312,1009,337"/>
<area shape="poly" title=" " alt="" coords="1070,340,1009,335,1010,329,1071,335"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="837,361,1004,386"/>
<area shape="poly" title=" " alt="" coords="1070,362,1004,368,1004,363,1070,357"/>
<area shape="poly" title=" " alt="" coords="839,310,804,295,789,283,779,271,770,260,756,249,729,238,731,233,759,245,774,256,784,268,793,279,807,290,841,305"/>
<area shape="rect" href="classTCPServer.html#ad6bed785945fc2f21376ff2b58090829" title="Auto&#45;match the client into a public lobby." alt="" coords="543,260,750,285"/>
<area shape="poly" title=" " alt="" coords="839,312,714,288,715,282,840,306"/>
<area shape="poly" title=" " alt="" coords="828,362,757,352,617,339,488,331,488,326,617,334,758,347,829,356"/>
<area shape="poly" title=" " alt="" coords="886,395,672,515,669,510,884,391"/>
<area shape="rect" href="classTCPServer.html#abc497ac52355e53986a6a1bd1acb9581" title="Destroy the TCPServer, closing the listening socket." alt="" coords="560,361,733,386"/>
<area shape="poly" title=" " alt="" coords="823,376,734,376,734,371,823,371"/>
</map>
</div>

</div>
</div>
<a id="a5b1988f8a542c2d39f3d3556264e71b2" name="a5b1988f8a542c2d39f3d3556264e71b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b1988f8a542c2d39f3d3556264e71b2">&#9670;&#160;</a></span>writeFd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t TCPServer::writeFd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ISocket_8hpp.html#a30353f381f5fccbb956eea1f3a110b6c">socket_t</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write raw bytes to a socket fd. </p>

<p class="definition">Definition at line <a class="el" href="TCPServer_8cpp_source.html#l00517">517</a> of file <a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00537">writeAll()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classTCPServer_a5b1988f8a542c2d39f3d3556264e71b2_icgraph.png" border="0" usemap="#aclassTCPServer_a5b1988f8a542c2d39f3d3556264e71b2_icgraph" alt=""/></div>
<map name="aclassTCPServer_a5b1988f8a542c2d39f3d3556264e71b2_icgraph" id="aclassTCPServer_a5b1988f8a542c2d39f3d3556264e71b2_icgraph">
<area shape="rect" title="Write raw bytes to a socket fd." alt="" coords="2280,240,2425,265"/>
<area shape="rect" href="classTCPServer.html#a79e20e1d2821e399fe47dd1055341d5e" title="Ensure the full buffer is written to the socket." alt="" coords="2085,240,2232,265"/>
<area shape="poly" title=" " alt="" coords="2266,255,2232,255,2232,250,2266,250"/>
<area shape="rect" href="classTCPServer.html#a9a65a3923e77e48c5f0019b45af8fcb5" title="Send a packet to a specific client fd." alt="" coords="1868,240,2037,265"/>
<area shape="poly" title=" " alt="" coords="2072,255,2037,255,2037,250,2072,250"/>
<area shape="rect" href="classTCPServer.html#ae0e94f8d712b3c9028fe674100d649b9" title="Accept incoming connection and register a new client slot." alt="" coords="1363,8,1569,33"/>
<area shape="poly" title=" " alt="" coords="1940,227,1924,187,1898,139,1863,92,1842,71,1819,54,1788,39,1756,27,1689,13,1622,8,1561,10,1561,5,1622,3,1690,8,1758,22,1791,34,1821,50,1846,67,1867,88,1903,136,1929,185,1945,225"/>
<area shape="rect" href="classTCPServer.html#aee3fb51b52375d68f548f60cc7005ef0" title="Notify all clients of a newly connected player." alt="" coords="1351,160,1581,185"/>
<area shape="poly" title=" " alt="" coords="1890,239,1819,223,1697,203,1581,187,1582,182,1697,197,1821,218,1891,233"/>
<area shape="rect" href="classTCPServer.html#afd78aa179d3b735e82868d800629b354" title="Handle lobby&#45;related packets for a client." alt="" coords="536,210,757,236"/>
<area shape="poly" title=" " alt="" coords="1917,235,1871,212,1819,191,1723,159,1646,139,1568,128,1467,124,1192,124,1119,127,1045,134,902,158,778,187,689,213,687,208,777,182,901,153,1045,129,1119,122,1192,119,1467,119,1569,122,1647,133,1724,154,1821,186,1873,207,1919,231"/>
<area shape="rect" href="classTCPServer.html#ada05a61182a782b4d3326fabd26a19bf" title="Read and handle data for a single client." alt="" coords="273,310,488,336"/>
<area shape="poly" title=" " alt="" coords="1929,232,1882,187,1851,164,1819,145,1726,105,1649,84,1569,75,1467,74,919,74,804,77,756,84,713,94,672,110,631,132,587,162,538,199,521,219,514,239,507,261,490,282,463,300,434,313,432,308,460,295,486,278,502,258,509,238,517,217,534,196,584,157,628,128,670,105,712,89,755,79,803,72,919,68,1467,68,1570,70,1650,78,1727,100,1821,140,1854,160,1885,183,1933,228"/>
<area shape="rect" href="classTCPServer.html#afb22938cbabd280ec30b3ffab25aeb56" title=" " alt="" coords="1087,437,1300,462"/>
<area shape="poly" title=" " alt="" coords="1890,271,1244,439,1243,434,1888,266"/>
<area shape="rect" href="classTCPServer.html#a867c0e233f62e2d8f181ae99dbcca0a0" title="Disconnect clients whose heartbeat timed out." alt="" coords="547,513,746,538"/>
<area shape="poly" title=" " alt="" coords="1926,275,1879,309,1821,341,1709,392,1612,431,1524,459,1441,480,1356,496,1264,508,1036,531,884,538,746,535,746,529,884,532,1036,526,1263,503,1355,490,1440,475,1523,454,1610,425,1707,387,1819,337,1876,304,1923,271"/>
<area shape="rect" href="classTCPServer.html#a2a03b7479e884f287b5a88df03eeb17b" title=" " alt="" coords="805,462,1036,488"/>
<area shape="poly" title=" " alt="" coords="1951,279,1941,338,1919,412,1902,451,1881,487,1854,520,1821,546,1790,561,1751,572,1705,579,1654,582,1537,579,1411,567,1282,549,1162,528,977,490,978,485,1163,523,1283,544,1411,562,1538,574,1654,576,1705,573,1750,567,1788,556,1819,542,1850,516,1876,484,1897,448,1914,410,1936,336,1946,278"/>
<area shape="rect" href="classTCPServer.html#a1ef2aa5cce99901889e64fce86fbac33" title="Send a ping packet to every connected client." alt="" coords="287,589,474,614"/>
<area shape="poly" title=" " alt="" coords="1952,279,1944,343,1923,427,1906,472,1884,514,1856,553,1822,586,1777,616,1735,634,1695,643,1656,644,1571,636,1467,630,919,630,678,623,474,611,474,606,678,618,919,624,1467,624,1572,631,1656,639,1695,637,1734,629,1774,611,1818,582,1852,550,1879,512,1901,469,1918,426,1938,342,1947,278"/>
<area shape="rect" href="classTCPServer.html#aa87b20fb76f60c19df36f39ef3621b05" title="Send the current player list to a single client." alt="" coords="1629,232,1820,272"/>
<area shape="poly" title=" " alt="" coords="1854,255,1820,255,1820,250,1854,250"/>
<area shape="rect" href="classTCPServer.html#a4e6d2ef05b71c4ecbd0518fc7215ece3" title="Run the main accept/receive loop (blocking)." alt="" coords="108,462,225,488"/>
<area shape="poly" title=" " alt="" coords="1349,23,922,23,645,23,597,27,552,39,508,57,467,81,428,110,391,142,325,215,270,291,227,363,176,463,171,461,222,360,266,288,321,211,387,138,424,106,464,76,506,52,550,34,597,22,645,18,922,18,1349,18"/>
<area shape="rect" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,462,60,488"/>
<area shape="poly" title=" " alt="" coords="94,478,60,478,60,472,94,472"/>
<area shape="poly" title=" " alt="" coords="1337,178,1090,189,806,207,746,213,746,208,805,202,1090,183,1337,173"/>
<area shape="poly" title=" " alt="" coords="563,241,537,249,463,281,405,312,402,308,461,276,535,244,561,236"/>
<area shape="poly" title=" " alt="" coords="352,346,188,464,184,460,349,341"/>
<area shape="poly" title=" " alt="" coords="1072,448,780,433,638,419,535,401,496,388,459,371,401,338,403,334,462,366,498,383,537,396,639,414,781,427,1073,443"/>
<area shape="poly" title=" " alt="" coords="1148,470,1095,488,1037,503,961,515,884,522,746,529,746,523,884,517,960,509,1035,498,1094,483,1147,465"/>
<area shape="poly" title=" " alt="" coords="1073,463,1037,467,1036,461,1073,458"/>
<area shape="poly" title=" " alt="" coords="533,521,408,511,273,496,225,489,226,483,274,491,409,506,534,516"/>
<area shape="poly" title=" " alt="" coords="792,478,225,478,225,472,792,472"/>
<area shape="poly" title=" " alt="" coords="341,585,272,546,185,490,188,485,275,542,343,580"/>
<area shape="poly" title=" " alt="" coords="1615,252,1581,251,757,228,758,223,1581,246,1616,246"/>
<area shape="rect" href="classTCPServer.html#a8d2dcfc8d8337ff577a101c4aee6aac5" title="Resend the player list to all members of a lobby." alt="" coords="1375,261,1557,286"/>
<area shape="poly" title=" " alt="" coords="1616,264,1557,269,1556,263,1615,259"/>
<area shape="poly" title=" " alt="" coords="1361,273,1108,263,805,244,746,238,746,233,806,239,1108,258,1362,268"/>
<area shape="rect" href="classTCPServer.html#a508cc3d7023b0cfe9abed2e3166b1682" title="Remove a client from its current lobby." alt="" coords="1084,336,1303,361"/>
<area shape="poly" title=" " alt="" coords="1406,293,1241,338,1240,333,1404,288"/>
<area shape="poly" title=" " alt="" coords="1154,369,950,465,948,460,1151,364"/>
<area shape="rect" href="classTCPServer.html#a84035146c9257be5714850a1f46d0bfb" title="Assign a client to a lobby (public or private)." alt="" coords="832,312,1009,337"/>
<area shape="poly" title=" " alt="" coords="1070,340,1009,335,1010,329,1071,335"/>
<area shape="rect" href="classTCPServer.html#a435ec8dcd340e15f964ce3c0748c7305" title="Reset client fields and close its socket." alt="" coords="837,361,1004,386"/>
<area shape="poly" title=" " alt="" coords="1070,362,1004,368,1004,363,1070,357"/>
<area shape="poly" title=" " alt="" coords="839,310,804,295,789,283,779,271,770,260,756,249,729,238,731,233,759,245,774,256,784,268,793,279,807,290,841,305"/>
<area shape="rect" href="classTCPServer.html#ad6bed785945fc2f21376ff2b58090829" title="Auto&#45;match the client into a public lobby." alt="" coords="543,260,750,285"/>
<area shape="poly" title=" " alt="" coords="839,312,714,288,715,282,840,306"/>
<area shape="poly" title=" " alt="" coords="828,362,757,352,617,339,488,331,488,326,617,334,758,347,829,356"/>
<area shape="poly" title=" " alt="" coords="886,395,672,515,669,510,884,391"/>
<area shape="rect" href="classTCPServer.html#abc497ac52355e53986a6a1bd1acb9581" title="Destroy the TCPServer, closing the listening socket." alt="" coords="560,361,733,386"/>
<area shape="poly" title=" " alt="" coords="823,376,734,376,734,371,823,371"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af631fe23418972d040c6ffce2a1418f7" name="af631fe23418972d040c6ffce2a1418f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af631fe23418972d040c6ffce2a1418f7">&#9670;&#160;</a></span>_childMgr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classChildProcessManager.html">ChildProcessManager</a>* TCPServer::_childMgr = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8hpp_source.html#l00235">235</a> of file <a class="el" href="TCPServer_8hpp_source.html">TCPServer.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00647">ensureLobbyProcess()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00377">processIpcMessages()</a>.</p>

</div>
</div>
<a id="af426291ba1ed4f4d21e8cab3c7a03bc3" name="af426291ba1ed4f4d21e8cab3c7a03bc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af426291ba1ed4f4d21e8cab3c7a03bc3">&#9670;&#160;</a></span>_clientLobby</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;int, std::string&gt; TCPServer::_clientLobby</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8hpp_source.html#l00234">234</a> of file <a class="el" href="TCPServer_8hpp_source.html">TCPServer.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00669">assignLobby()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00620">removeFromLobby()</a>.</p>

</div>
</div>
<a id="a84e56cbbeeab8d9e7569444fa657a239" name="a84e56cbbeeab8d9e7569444fa657a239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84e56cbbeeab8d9e7569444fa657a239">&#9670;&#160;</a></span>_clients</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;<a class="el" href="structTCPServer_1_1Client.html">Client</a>, <a class="el" href="TCPServer_8hpp.html#ab8ba2d8f79af5ca38005742bbc29a927">MAX_CLIENT</a>&gt; TCPServer::_clients</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8hpp_source.html#l00223">223</a> of file <a class="el" href="TCPServer_8hpp_source.html">TCPServer.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00165">acceptNewClient()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00578">broadcastNewPlayer()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00079">broadcastToLobby()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00549">buildPlayerListPacket()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00351">checkHeartbeat()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00203">processClientData()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00377">processIpcMessages()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00596">refreshLobby()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00446">run()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00341">sendPingToAll()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00039">TCPServer()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00052">~TCPServer()</a>.</p>

</div>
</div>
<a id="a82ca8d45da7d3889d55662cb8c90022e" name="a82ca8d45da7d3889d55662cb8c90022e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82ca8d45da7d3889d55662cb8c90022e">&#9670;&#160;</a></span>_lobbies</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, <a class="el" href="structTCPServer_1_1LobbyInfo.html">LobbyInfo</a>&gt; TCPServer::_lobbies</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8hpp_source.html#l00233">233</a> of file <a class="el" href="TCPServer_8hpp_source.html">TCPServer.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00669">assignLobby()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00647">ensureLobbyProcess()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00605">generateLobbyCode()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00702">handleLobbyPacket()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00377">processIpcMessages()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00620">removeFromLobby()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00446">run()</a>.</p>

</div>
</div>
<a id="a1c70f5262f8c58c76224696746b2fe61" name="a1c70f5262f8c58c76224696746b2fe61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c70f5262f8c58c76224696746b2fe61">&#9670;&#160;</a></span>_nextId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TCPServer::_nextId = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8hpp_source.html#l00224">224</a> of file <a class="el" href="TCPServer_8hpp_source.html">TCPServer.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00165">acceptNewClient()</a>.</p>

</div>
</div>
<a id="a935d20653ad5ba5269b00c0fb8977e60" name="a935d20653ad5ba5269b00c0fb8977e60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a935d20653ad5ba5269b00c0fb8977e60">&#9670;&#160;</a></span>_serverSocket</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNetwork_1_1TransportLayer_1_1TCPSocket.html">Network::TransportLayer::TCPSocket</a> TCPServer::_serverSocket</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8hpp_source.html#l00222">222</a> of file <a class="el" href="TCPServer_8hpp_source.html">TCPServer.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00165">acceptNewClient()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00446">run()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00039">TCPServer()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00052">~TCPServer()</a>.</p>

</div>
</div>
<a id="a112cedb48ad54b03fcd564d78766f763" name="a112cedb48ad54b03fcd564d78766f763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a112cedb48ad54b03fcd564d78766f763">&#9670;&#160;</a></span>_sessions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSessionManager.html">SessionManager</a>&amp; TCPServer::_sessions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TCPServer_8hpp_source.html#l00225">225</a> of file <a class="el" href="TCPServer_8hpp_source.html">TCPServer.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="TCPServer_8cpp_source.html#l00165">acceptNewClient()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00669">assignLobby()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00203">processClientData()</a>, <a class="el" href="TCPServer_8cpp_source.html#l00620">removeFromLobby()</a>, and <a class="el" href="TCPServer_8cpp_source.html#l00142">resetClient()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Network/TransportLayer/TCP/<a class="el" href="TCPServer_8hpp_source.html">TCPServer.hpp</a></li>
<li>Network/TransportLayer/TCP/<a class="el" href="TCPServer_8cpp_source.html">TCPServer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classTCPServer.html">TCPServer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
